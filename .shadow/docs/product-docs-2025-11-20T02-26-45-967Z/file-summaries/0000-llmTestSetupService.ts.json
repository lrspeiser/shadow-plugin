{
  "file": "src/domain/services/testing/llmTestSetupService.ts",
  "role": "Core Logic",
  "purpose": "Detects the test environment and generates LLM-powered test setup configurations for different programming languages and frameworks.",
  "userVisibleActions": [
    "Automatically detects the project's testing framework and language",
    "Generates test configuration files based on the detected environment",
    "Creates test directory structure if missing",
    "Installs required testing dependencies",
    "Sets up appropriate test runners (Jest, pytest, JUnit, etc.)"
  ],
  "developerVisibleActions": [
    "Call detectTestEnvironment() to analyze project structure and identify language/framework",
    "Use LLM prompts to generate context-aware test setup plans",
    "Execute setup plans to install dependencies and create configuration files",
    "Receive structured TestEnvironment data showing what was detected",
    "Get TestSetupPlan with specific actions needed to configure testing",
    "Obtain SetupExecutionResult indicating success/failure of setup operations"
  ],
  "keyFunctions": [
    {
      "name": "detectTestEnvironment",
      "desc": "Analyzes workspace to detect primary language, testing framework, and existing test setup",
      "inputs": "workspaceRoot: string (path to project root)",
      "outputs": "TestEnvironment object containing language, framework, and configuration status"
    },
    {
      "name": "getAllFiles",
      "desc": "Recursively scans directory to find all files for language detection",
      "inputs": "directory path",
      "outputs": "Array of file paths"
    },
    {
      "name": "buildSetupPrompt",
      "desc": "Constructs LLM prompt for generating test setup configuration",
      "inputs": "TestEnvironment data",
      "outputs": "Formatted prompt string for LLM"
    }
  ],
  "dependencies": [
    "fs",
    "path",
    "child_process",
    "./types/testSetupTypes",
    "../../prompts/testPrompts",
    "../../../logger"
  ],
  "intent": "This file exists to eliminate manual test setup by automatically detecting a project's programming environment and generating appropriate test configurations. It solves the problem of developers needing to manually configure testing frameworks, install dependencies, and create test structures for different languages and environments by using LLM intelligence to understand the project context and generate optimal setup plans.",
  "rawContent": "```json\n{\n  \"purpose\": \"Detects the test environment and generates LLM-powered test setup configurations for different programming languages and frameworks.\",\n  \"userVisibleActions\": [\n    \"Automatically detects the project's testing framework and language\",\n    \"Generates test configuration files based on the detected environment\",\n    \"Creates test directory structure if missing\",\n    \"Installs required testing dependencies\",\n    \"Sets up appropriate test runners (Jest, pytest, JUnit, etc.)\"\n  ],\n  \"developerVisibleActions\": [\n    \"Call detectTestEnvironment() to analyze project structure and identify language/framework\",\n    \"Use LLM prompts to generate context-aware test setup plans\",\n    \"Execute setup plans to install dependencies and create configuration files\",\n    \"Receive structured TestEnvironment data showing what was detected\",\n    \"Get TestSetupPlan with specific actions needed to configure testing\",\n    \"Obtain SetupExecutionResult indicating success/failure of setup operations\"\n  ],\n  \"keyFunctions\": [\n    {\n      \"name\": \"detectTestEnvironment\",\n      \"desc\": \"Analyzes workspace to detect primary language, testing framework, and existing test setup\",\n      \"inputs\": \"workspaceRoot: string (path to project root)\",\n      \"outputs\": \"TestEnvironment object containing language, framework, and configuration status\"\n    },\n    {\n      \"name\": \"getAllFiles\",\n      \"desc\": \"Recursively scans directory to find all files for language detection\",\n      \"inputs\": \"directory path\",\n      \"outputs\": \"Array of file paths\"\n    },\n    {\n      \"name\": \"buildSetupPrompt\",\n      \"desc\": \"Constructs LLM prompt for generating test setup configuration\",\n      \"inputs\": \"TestEnvironment data\",\n      \"outputs\": \"Formatted prompt string for LLM\"\n    }\n  ],\n  \"dependencies\": [\n    \"fs\",\n    \"path\",\n    \"child_process\",\n    \"./types/testSetupTypes\",\n    \"../../prompts/testPrompts\",\n    \"../../../logger\"\n  ],\n  \"intent\": \"This file exists to eliminate manual test setup by automatically detecting a project's programming environment and generating appropriate test configurations. It solves the problem of developers needing to manually configure testing frameworks, install dependencies, and create test structures for different languages and environments by using LLM intelligence to understand the project context and generate optimal setup plans.\"\n}\n```",
  "_metadata": {
    "index": 0,
    "total": 0,
    "savedAt": "2025-11-20T02:41:13.566Z"
  }
}