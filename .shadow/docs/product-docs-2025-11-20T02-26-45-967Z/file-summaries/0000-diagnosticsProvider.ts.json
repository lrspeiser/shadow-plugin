{
  "file": "src/diagnosticsProvider.ts",
  "role": "Core Logic",
  "purpose": "Displays code insights as inline diagnostics (squiggly underlines) in the VS Code editor's Problems panel",
  "userVisibleActions": [
    "Shows warnings or errors under specific lines of code with squiggly underlines",
    "Displays insights in the Problems panel at the bottom of VS Code",
    "Highlights problematic code locations across multiple files",
    "Shows insight descriptions when hovering over underlined code",
    "Groups diagnostics by file in the Problems panel"
  ],
  "developerVisibleActions": [
    "Converts generated insights into VS Code diagnostic entries",
    "Updates the Problems panel whenever new insights are generated",
    "Maps insight severity levels to VS Code diagnostic severity (Error, Warning, Information, Hint)",
    "Clears all diagnostics when insights are refreshed",
    "Associates each diagnostic with its source file and line number",
    "Tags diagnostics with 'Shadow Watch' as the source"
  ],
  "keyFunctions": [
    {
      "name": "updateDiagnostics",
      "desc": "Updates all diagnostics across all files based on provided insights",
      "inputs": "Array of Insight objects",
      "outputs": "void (updates UI)"
    },
    {
      "name": "updateDiagnosticsForFile",
      "desc": "Updates diagnostics for a single specific file",
      "inputs": "File URI and array of Insight objects",
      "outputs": "void (updates UI)"
    },
    {
      "name": "clear",
      "desc": "Removes all diagnostics from the Problems panel",
      "inputs": "none",
      "outputs": "void"
    },
    {
      "name": "createDiagnostic",
      "desc": "Converts an insight into a VS Code diagnostic entry with range, severity, and metadata",
      "inputs": "Single Insight object",
      "outputs": "vscode.Diagnostic object"
    },
    {
      "name": "getSeverity",
      "desc": "Maps insight severity to VS Code diagnostic severity level",
      "inputs": "Insight severity string",
      "outputs": "vscode.DiagnosticSeverity enum"
    }
  ],
  "dependencies": [
    "vscode",
    "./insightGenerator"
  ],
  "intent": "Bridges the gap between Shadow Watch's code analysis insights and VS Code's native diagnostics system, making insights visible to users as familiar editor warnings and errors in the Problems panel",
  "rawContent": "```json\n{\n  \"purpose\": \"Displays code insights as inline diagnostics (squiggly underlines) in the VS Code editor's Problems panel\",\n  \"userVisibleActions\": [\n    \"Shows warnings or errors under specific lines of code with squiggly underlines\",\n    \"Displays insights in the Problems panel at the bottom of VS Code\",\n    \"Highlights problematic code locations across multiple files\",\n    \"Shows insight descriptions when hovering over underlined code\",\n    \"Groups diagnostics by file in the Problems panel\"\n  ],\n  \"developerVisibleActions\": [\n    \"Converts generated insights into VS Code diagnostic entries\",\n    \"Updates the Problems panel whenever new insights are generated\",\n    \"Maps insight severity levels to VS Code diagnostic severity (Error, Warning, Information, Hint)\",\n    \"Clears all diagnostics when insights are refreshed\",\n    \"Associates each diagnostic with its source file and line number\",\n    \"Tags diagnostics with 'Shadow Watch' as the source\"\n  ],\n  \"keyFunctions\": [\n    {\n      \"name\": \"updateDiagnostics\",\n      \"desc\": \"Updates all diagnostics across all files based on provided insights\",\n      \"inputs\": \"Array of Insight objects\",\n      \"outputs\": \"void (updates UI)\"\n    },\n    {\n      \"name\": \"updateDiagnosticsForFile\",\n      \"desc\": \"Updates diagnostics for a single specific file\",\n      \"inputs\": \"File URI and array of Insight objects\",\n      \"outputs\": \"void (updates UI)\"\n    },\n    {\n      \"name\": \"clear\",\n      \"desc\": \"Removes all diagnostics from the Problems panel\",\n      \"inputs\": \"none\",\n      \"outputs\": \"void\"\n    },\n    {\n      \"name\": \"createDiagnostic\",\n      \"desc\": \"Converts an insight into a VS Code diagnostic entry with range, severity, and metadata\",\n      \"inputs\": \"Single Insight object\",\n      \"outputs\": \"vscode.Diagnostic object\"\n    },\n    {\n      \"name\": \"getSeverity\",\n      \"desc\": \"Maps insight severity to VS Code diagnostic severity level\",\n      \"inputs\": \"Insight severity string\",\n      \"outputs\": \"vscode.DiagnosticSeverity enum\"\n    }\n  ],\n  \"dependencies\": [\n    \"vscode\",\n    \"./insightGenerator\"\n  ],\n  \"intent\": \"Bridges the gap between Shadow Watch's code analysis insights and VS Code's native diagnostics system, making insights visible to users as familiar editor warnings and errors in the Problems panel\"\n}\n```",
  "_metadata": {
    "index": 0,
    "total": 0,
    "savedAt": "2025-11-20T02:38:21.782Z"
  }
}