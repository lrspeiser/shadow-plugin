{
  "file": "src/insightsTreeView.ts",
  "role": "GUI View",
  "purpose": "Provides a tree view interface in VS Code's sidebar that displays code analysis insights, documentation status, and generated reports with timestamps and action buttons.",
  "userVisibleActions": [
    "View code analysis insights organized in a tree structure in the sidebar",
    "See status indicators (idle/generating/complete) for product documentation, insights, and unit tests",
    "Click on insight items to navigate to specific code locations",
    "Refresh the insights tree view to update the display",
    "Open generated reports (workspace, product, architecture, unit test) from the tree",
    "Copy insight descriptions to clipboard",
    "Generate product documentation, insights, unit tests, and analysis reports via tree item buttons",
    "Regenerate existing insights and documentation",
    "See timestamps showing when reports and documentation were last generated",
    "View dependency tree and architecture insights",
    "Access static analysis results through the tree view"
  ],
  "developerVisibleActions": [
    "Tree provider manages state for multiple report types (workspace, product, architecture, unit test)",
    "Persists timestamps and file paths across VS Code sessions using workspace state",
    "Tracks generation status for documentation, insights, unit tests, and analysis",
    "Handles LLM service integration for generating AI-powered insights",
    "Provides tree data structure with expandable/collapsible sections",
    "Manages navigation from tree items to code locations via file paths and line numbers",
    "Exposes refresh mechanism to update tree view when analysis completes",
    "Supports copying insight text to clipboard programmatically",
    "Validates existence of generated report files before displaying them",
    "Integrates with static analysis viewer component"
  ],
  "keyFunctions": [
    {
      "name": "refresh",
      "desc": "Triggers the tree view to reload and display updated insights and statuses",
      "inputs": "none",
      "outputs": "void (fires onDidChangeTreeData event)"
    },
    {
      "name": "setInsights",
      "desc": "Updates the insights data displayed in the tree view",
      "inputs": "insights: Insight[] - array of insight objects",
      "outputs": "void"
    },
    {
      "name": "getTreeItem",
      "desc": "Returns the VS Code tree item representation for a given tree node",
      "inputs": "element: TreeItem - tree node element",
      "outputs": "vscode.TreeItem or Thenable<vscode.TreeItem>"
    },
    {
      "name": "getChildren",
      "desc": "Returns child nodes for a given tree item or root nodes if no element provided",
      "inputs": "element?: TreeItem - optional parent tree item",
      "outputs": "TreeItem[] - array of child tree items"
    },
    {
      "name": "setProductDocsStatus",
      "desc": "Updates the product documentation generation status",
      "inputs": "status: 'idle' | 'generating' | 'complete', timestamp?: number",
      "outputs": "void"
    },
    {
      "name": "setInsightsStatus",
      "desc": "Updates the insights generation status",
      "inputs": "status: 'idle' | 'generating' | 'complete', timestamp?: number",
      "outputs": "void"
    },
    {
      "name": "setUnitTestStatus",
      "desc": "Updates the unit test generation status",
      "inputs": "status: 'idle' | 'generating' | 'complete', timestamp?: number",
      "outputs": "void"
    },
    {
      "name": "setAnalysisStatus",
      "desc": "Updates the analysis completion status",
      "inputs": "status: 'idle' | 'complete', timestamp?: number",
      "outputs": "void"
    },
    {
      "name": "setReportPath",
      "desc": "Sets the file path for a generated report",
      "inputs": "path: string, timestamp?: number",
      "outputs": "void"
    },
    {
      "name": "setWorkspaceReportPath",
      "desc": "Sets the file path for the workspace report",
      "inputs": "path: string, timestamp?: number",
      "outputs": "void"
    },
    {
      "name": "setProductReportPath",
      "desc": "Sets the file path for the product report",
      "inputs": "path: string, timestamp?: number",
      "outputs": "void"
    },
    {
      "name": "setArchitectureReportPath",
      "desc": "Sets the file path for the architecture report",
      "inputs": "path: string, timestamp?: number",
      "outputs": "void"
    },
    {
      "name": "setUnitTestReportPath",
      "desc": "Sets the file path for the unit test report",
      "inputs": "path: string, timestamp?: number",
      "outputs": "void"
    },
    {
      "name": "setLLMService",
      "desc": "Configures the LLM service for generating AI-powered insights",
      "inputs": "llmService: LLMService",
      "outputs": "void"
    },
    {
      "name": "setLLMInsights",
      "desc": "Updates the LLM-generated insights data",
      "inputs": "llmInsights: LLMInsights",
      "outputs": "void"
    },
    {
      "name": "setStaticAnalysisViewer",
      "desc": "Sets the static analysis viewer component for integration",
      "inputs": "viewer: any - static analysis viewer instance",
      "outputs": "void"
    },
    {
      "name": "loadPersistedState",
      "desc": "Restores previously saved timestamps and report paths from workspace storage",
      "inputs": "none",
      "outputs": "Promise<void>"
    },
    {
      "name": "formatTimestamp",
      "desc": "Converts a timestamp number into a human-readable date/time string",
      "inputs": "timestamp: number",
      "outputs": "string - formatted date/time"
    }
  ],
  "dependencies": [
    "vscode",
    "insightGenerator",
    "llmFormatter",
    "llmService"
  ],
  "intent": "This file exists to provide a user-friendly sidebar interface in VS Code that visualizes code analysis results, tracks generation status of various documentation and test reports, and offers quick access to generated artifacts. It solves the problem of presenting complex analysis data in an organized, navigable tree structure with actionable buttons and status indicators, making it easy for developers to understand their codebase and access generated documentation.",
  "rawContent": "```json\n{\n  \"purpose\": \"Provides a tree view interface in VS Code's sidebar that displays code analysis insights, documentation status, and generated reports with timestamps and action buttons.\",\n  \"userVisibleActions\": [\n    \"View code analysis insights organized in a tree structure in the sidebar\",\n    \"See status indicators (idle/generating/complete) for product documentation, insights, and unit tests\",\n    \"Click on insight items to navigate to specific code locations\",\n    \"Refresh the insights tree view to update the display\",\n    \"Open generated reports (workspace, product, architecture, unit test) from the tree\",\n    \"Copy insight descriptions to clipboard\",\n    \"Generate product documentation, insights, unit tests, and analysis reports via tree item buttons\",\n    \"Regenerate existing insights and documentation\",\n    \"See timestamps showing when reports and documentation were last generated\",\n    \"View dependency tree and architecture insights\",\n    \"Access static analysis results through the tree view\"\n  ],\n  \"developerVisibleActions\": [\n    \"Tree provider manages state for multiple report types (workspace, product, architecture, unit test)\",\n    \"Persists timestamps and file paths across VS Code sessions using workspace state\",\n    \"Tracks generation status for documentation, insights, unit tests, and analysis\",\n    \"Handles LLM service integration for generating AI-powered insights\",\n    \"Provides tree data structure with expandable/collapsible sections\",\n    \"Manages navigation from tree items to code locations via file paths and line numbers\",\n    \"Exposes refresh mechanism to update tree view when analysis completes\",\n    \"Supports copying insight text to clipboard programmatically\",\n    \"Validates existence of generated report files before displaying them\",\n    \"Integrates with static analysis viewer component\"\n  ],\n  \"keyFunctions\": [\n    {\n      \"name\": \"refresh\",\n      \"desc\": \"Triggers the tree view to reload and display updated insights and statuses\",\n      \"inputs\": \"none\",\n      \"outputs\": \"void (fires onDidChangeTreeData event)\"\n    },\n    {\n      \"name\": \"setInsights\",\n      \"desc\": \"Updates the insights data displayed in the tree view\",\n      \"inputs\": \"insights: Insight[] - array of insight objects\",\n      \"outputs\": \"void\"\n    },\n    {\n      \"name\": \"getTreeItem\",\n      \"desc\": \"Returns the VS Code tree item representation for a given tree node\",\n      \"inputs\": \"element: TreeItem - tree node element\",\n      \"outputs\": \"vscode.TreeItem or Thenable<vscode.TreeItem>\"\n    },\n    {\n      \"name\": \"getChildren\",\n      \"desc\": \"Returns child nodes for a given tree item or root nodes if no element provided\",\n      \"inputs\": \"element?: TreeItem - optional parent tree item\",\n      \"outputs\": \"TreeItem[] - array of child tree items\"\n    },\n    {\n      \"name\": \"setProductDocsStatus\",\n      \"desc\": \"Updates the product documentation generation status\",\n      \"inputs\": \"status: 'idle' | 'generating' | 'complete', timestamp?: number\",\n      \"outputs\": \"void\"\n    },\n    {\n      \"name\": \"setInsightsStatus\",\n      \"desc\": \"Updates the insights generation status\",\n      \"inputs\": \"status: 'idle' | 'generating' | 'complete', timestamp?: number\",\n      \"outputs\": \"void\"\n    },\n    {\n      \"name\": \"setUnitTestStatus\",\n      \"desc\": \"Updates the unit test generation status\",\n      \"inputs\": \"status: 'idle' | 'generating' | 'complete', timestamp?: number\",\n      \"outputs\": \"void\"\n    },\n    {\n      \"name\": \"setAnalysisStatus\",\n      \"desc\": \"Updates the analysis completion status\",\n      \"inputs\": \"status: 'idle' | 'complete', timestamp?: number\",\n      \"outputs\": \"void\"\n    },\n    {\n      \"name\": \"setReportPath\",\n      \"desc\": \"Sets the file path for a generated report\",\n      \"inputs\": \"path: string, timestamp?: number\",\n      \"outputs\": \"void\"\n    },\n    {\n      \"name\": \"setWorkspaceReportPath\",\n      \"desc\": \"Sets the file path for the workspace report\",\n      \"inputs\": \"path: string, timestamp?: number\",\n      \"outputs\": \"void\"\n    },\n    {\n      \"name\": \"setProductReportPath\",\n      \"desc\": \"Sets the file path for the product report\",\n      \"inputs\": \"path: string, timestamp?: number\",\n      \"outputs\": \"void\"\n    },\n    {\n      \"name\": \"setArchitectureReportPath\",\n      \"desc\": \"Sets the file path for the architecture report\",\n      \"inputs\": \"path: string, timestamp?: number\",\n      \"outputs\": \"void\"\n    },\n    {\n      \"name\": \"setUnitTestReportPath\",\n      \"desc\": \"Sets the file path for the unit test report\",\n      \"inputs\": \"path: string, timestamp?: number\",\n      \"outputs\": \"void\"\n    },\n    {\n      \"name\": \"setLLMService\",\n      \"desc\": \"Configures the LLM service for generating AI-powered insights\",\n      \"inputs\": \"llmService: LLMService\",\n      \"outputs\": \"void\"\n    },\n    {\n      \"name\": \"setLLMInsights\",\n      \"desc\": \"Updates the LLM-generated insights data\",\n      \"inputs\": \"llmInsights: LLMInsights\",\n      \"outputs\": \"void\"\n    },\n    {\n      \"name\": \"setStaticAnalysisViewer\",\n      \"desc\": \"Sets the static analysis viewer component for integration\",\n      \"inputs\": \"viewer: any - static analysis viewer instance\",\n      \"outputs\": \"void\"\n    },\n    {\n      \"name\": \"loadPersistedState\",\n      \"desc\": \"Restores previously saved timestamps and report paths from workspace storage\",\n      \"inputs\": \"none\",\n      \"outputs\": \"Promise<void>\"\n    },\n    {\n      \"name\": \"formatTimestamp\",\n      \"desc\": \"Converts a timestamp number into a human-readable date/time string\",\n      \"inputs\": \"timestamp: number\",\n      \"outputs\": \"string - formatted date/time\"\n    }\n  ],\n  \"dependencies\": [\n    \"vscode\",\n    \"insightGenerator\",\n    \"llmFormatter\",\n    \"llmService\"\n  ],\n  \"intent\": \"This file exists to provide a user-friendly sidebar interface in VS Code that visualizes code analysis results, tracks generation status of various documentation and test reports, and offers quick access to generated artifacts. It solves the problem of presenting complex analysis data in an organized, navigable tree structure with actionable buttons and status indicators, making it easy for developers to understand their codebase and access generated documentation.\"\n}\n```",
  "_metadata": {
    "index": 0,
    "total": 0,
    "savedAt": "2025-11-20T02:44:16.588Z"
  }
}