{
  "module": "src/infrastructure/fileSystem",
  "moduleType": "other",
  "capabilities": [
    "Optimizes file system operations through intelligent caching to reduce redundant file reads",
    "Processes multiple files in parallel with automatic filtering of common non-source directories",
    "Automatically updates cached content when files are modified externally",
    "Provides consistent error handling across all file processing operations",
    "Improves extension responsiveness when accessing project files repeatedly"
  ],
  "summary": "This module provides optimized file system operations for the VS Code extension, focusing on performance and efficiency. It implements a caching layer that stores file contents in memory, significantly reducing disk I/O when the extension needs to access the same files multiple times during operations like code analysis, documentation generation, or project scanning.\n\nThe module handles bulk file processing with intelligent defaults, automatically excluding common directories that typically don't contain source code (node_modules, .git, dist, build, .shadow, coverage, .vscode, .idea). Files are processed in parallel for maximum throughput, making operations on large codebases faster and more responsive.\n\nUsers benefit from faster extension performance without any configuration required. The cache automatically invalidates when files change, ensuring data stays fresh. Whether the extension is analyzing code, generating documentation, or scanning project structure, these file system utilities work behind the scenes to deliver a smooth, responsive experience.",
  "files": [
    {
      "file": "src/infrastructure/fileSystem/fileCache.ts",
      "role": "Core Logic",
      "purpose": "Optimizes file system operations by caching file contents to reduce redundant file reads and improve performance across the extension",
      "userVisibleActions": [
        "Faster file operations when accessing the same files multiple times",
        "Improved responsiveness when extension reads project files",
        "Automatic updates when files are modified externally"
      ],
      "developerVisibleActions": [
        "Retrieve cached file contents instead of reading from disk repeatedly",
        "Automatic cache invalidation when files change on disk",
        "Access cache statistics to monitor performance (hits, misses, evictions)",
        "Configure cache size limits and time-to-live settings",
        "Clear cache manually or invalidate specific files",
        "Monitor memory usage through cache size tracking"
      ],
      "keyFunctions": [
        {
          "name": "getFile",
          "desc": "Retrieves file content from cache if available and valid, otherwise reads from disk and caches it",
          "inputs": "filePath: string",
          "outputs": "Promise<string> - file content"
        },
        {
          "name": "invalidate",
          "desc": "Removes a specific file from the cache, forcing next access to read from disk",
          "inputs": "filePath: string",
          "outputs": "void"
        },
        {
          "name": "clear",
          "desc": "Empties the entire cache and resets statistics",
          "inputs": "none",
          "outputs": "void"
        },
        {
          "name": "getStats",
          "desc": "Returns cache performance metrics including hits, misses, evictions, and size",
          "inputs": "none",
          "outputs": "CacheStats object"
        },
        {
          "name": "dispose",
          "desc": "Cleans up resources including file system watcher and cache contents",
          "inputs": "none",
          "outputs": "void"
        }
      ],
      "dependencies": [
        "vscode",
        "fs",
        "path"
      ],
      "intent": "This file exists to improve extension performance by preventing repeated disk reads of the same files. It solves the problem of slow file system operations causing UI lag by caching frequently accessed files, automatically invalidating the cache when files change, and using an LRU eviction policy to manage memory efficiently.",
      "rawContent": "```json\n{\n  \"purpose\": \"Optimizes file system operations by caching file contents to reduce redundant file reads and improve performance across the extension\",\n  \"userVisibleActions\": [\n    \"Faster file operations when accessing the same files multiple times\",\n    \"Improved responsiveness when extension reads project files\",\n    \"Automatic updates when files are modified externally\"\n  ],\n  \"developerVisibleActions\": [\n    \"Retrieve cached file contents instead of reading from disk repeatedly\",\n    \"Automatic cache invalidation when files change on disk\",\n    \"Access cache statistics to monitor performance (hits, misses, evictions)\",\n    \"Configure cache size limits and time-to-live settings\",\n    \"Clear cache manually or invalidate specific files\",\n    \"Monitor memory usage through cache size tracking\"\n  ],\n  \"keyFunctions\": [\n    {\n      \"name\": \"getFile\",\n      \"desc\": \"Retrieves file content from cache if available and valid, otherwise reads from disk and caches it\",\n      \"inputs\": \"filePath: string\",\n      \"outputs\": \"Promise<string> - file content\"\n    },\n    {\n      \"name\": \"invalidate\",\n      \"desc\": \"Removes a specific file from the cache, forcing next access to read from disk\",\n      \"inputs\": \"filePath: string\",\n      \"outputs\": \"void\"\n    },\n    {\n      \"name\": \"clear\",\n      \"desc\": \"Empties the entire cache and resets statistics\",\n      \"inputs\": \"none\",\n      \"outputs\": \"void\"\n    },\n    {\n      \"name\": \"getStats\",\n      \"desc\": \"Returns cache performance metrics including hits, misses, evictions, and size\",\n      \"inputs\": \"none\",\n      \"outputs\": \"CacheStats object\"\n    },\n    {\n      \"name\": \"dispose\",\n      \"desc\": \"Cleans up resources including file system watcher and cache contents\",\n      \"inputs\": \"none\",\n      \"outputs\": \"void\"\n    }\n  ],\n  \"dependencies\": [\n    \"vscode\",\n    \"fs\",\n    \"path\"\n  ],\n  \"intent\": \"This file exists to improve extension performance by preventing repeated disk reads of the same files. It solves the problem of slow file system operations causing UI lag by caching frequently accessed files, automatically invalidating the cache when files change, and using an LRU eviction policy to manage memory efficiently.\"\n}\n```"
    },
    {
      "file": "src/infrastructure/fileSystem/fileProcessor.ts",
      "role": "Core Logic",
      "purpose": "Provides a reusable file processing system that filters, reads, and processes multiple files in parallel with consistent error handling.",
      "userVisibleActions": [
        "Files in common directories like node_modules, .git, dist, build, .shadow, coverage, .vscode, and .idea are automatically skipped during processing",
        "Multiple files are processed simultaneously for faster performance"
      ],
      "developerVisibleActions": [
        "Developer provides a list of file paths and a processing function to batch process files",
        "Developer can customize which files to process by providing a custom filter implementation",
        "Developer can customize how files are read by providing a custom reader implementation",
        "Files are automatically filtered to skip non-source directories before processing",
        "File content is read and passed to the developer's processing function",
        "All file processing errors are caught and handled through the ErrorHandler system",
        "Processing results are returned as an array in the same order as input files"
      ],
      "keyFunctions": [
        {
          "name": "shouldProcess",
          "desc": "Determines whether a file should be processed based on its path",
          "inputs": "filePath: string",
          "outputs": "boolean indicating if file should be processed"
        },
        {
          "name": "readFile",
          "desc": "Reads a file and returns its content as a string",
          "inputs": "filePath: string",
          "outputs": "Promise<string> with file content"
        },
        {
          "name": "processFiles",
          "desc": "Processes multiple files in parallel by filtering, reading, and applying a custom processor function",
          "inputs": "files: string[], processor: (content: string, filePath: string) => Promise<T>, context?: ErrorContext",
          "outputs": "Promise<T[]> with processed results for each file"
        }
      ],
      "dependencies": [
        "fs",
        "path",
        "ErrorHandler",
        "ErrorContext"
      ],
      "intent": "This file exists to eliminate duplicate file processing patterns across the codebase by providing a single, reusable, and testable file processing system. It solves the problem of inconsistent file filtering, error handling, and parallel processing logic that would otherwise be scattered throughout the application.",
      "rawContent": "```json\n{\n  \"purpose\": \"Provides a reusable file processing system that filters, reads, and processes multiple files in parallel with consistent error handling.\",\n  \"userVisibleActions\": [\n    \"Files in common directories like node_modules, .git, dist, build, .shadow, coverage, .vscode, and .idea are automatically skipped during processing\",\n    \"Multiple files are processed simultaneously for faster performance\"\n  ],\n  \"developerVisibleActions\": [\n    \"Developer provides a list of file paths and a processing function to batch process files\",\n    \"Developer can customize which files to process by providing a custom filter implementation\",\n    \"Developer can customize how files are read by providing a custom reader implementation\",\n    \"Files are automatically filtered to skip non-source directories before processing\",\n    \"File content is read and passed to the developer's processing function\",\n    \"All file processing errors are caught and handled through the ErrorHandler system\",\n    \"Processing results are returned as an array in the same order as input files\"\n  ],\n  \"keyFunctions\": [\n    {\n      \"name\": \"shouldProcess\",\n      \"desc\": \"Determines whether a file should be processed based on its path\",\n      \"inputs\": \"filePath: string\",\n      \"outputs\": \"boolean indicating if file should be processed\"\n    },\n    {\n      \"name\": \"readFile\",\n      \"desc\": \"Reads a file and returns its content as a string\",\n      \"inputs\": \"filePath: string\",\n      \"outputs\": \"Promise<string> with file content\"\n    },\n    {\n      \"name\": \"processFiles\",\n      \"desc\": \"Processes multiple files in parallel by filtering, reading, and applying a custom processor function\",\n      \"inputs\": \"files: string[], processor: (content: string, filePath: string) => Promise<T>, context?: ErrorContext\",\n      \"outputs\": \"Promise<T[]> with processed results for each file\"\n    }\n  ],\n  \"dependencies\": [\n    \"fs\",\n    \"path\",\n    \"ErrorHandler\",\n    \"ErrorContext\"\n  ],\n  \"intent\": \"This file exists to eliminate duplicate file processing patterns across the codebase by providing a single, reusable, and testable file processing system. It solves the problem of inconsistent file filtering, error handling, and parallel processing logic that would otherwise be scattered throughout the application.\"\n}\n```"
    }
  ],
  "endpoints": [],
  "commands": [],
  "workers": [],
  "_metadata": {
    "index": 0,
    "total": 0,
    "savedAt": "2025-11-21T17:51:42.281Z"
  }
}