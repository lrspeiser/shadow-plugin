{
  "file": "src/analysis/functionAnalyzer.ts",
  "role": "Core Logic",
  "purpose": "Extracts detailed function information from large code files to support refactoring analysis and reporting.",
  "userVisibleActions": [
    "Identifies functions in large files that may need refactoring",
    "Provides detailed function information including signatures, dependencies, and responsibilities",
    "Highlights which functions are called by other parts of the codebase (dependents)",
    "Shows what other functions or modules each function depends on"
  ],
  "developerVisibleActions": [
    "Developer runs analysis on a codebase to identify large files",
    "System automatically analyzes all functions in files exceeding a configurable line threshold (default 500 lines)",
    "Developer receives structured function analysis data for each function in large files",
    "System extracts function signatures, metadata, dependencies, and dependent relationships",
    "Developer can use this analysis to inform refactoring decisions and generate refactoring reports",
    "Analysis integrates with existing code analysis infrastructure to build comprehensive function profiles"
  ],
  "keyFunctions": [
    {
      "name": "analyzeFunctions",
      "desc": "Analyzes all functions in large files and returns detailed function analysis data",
      "inputs": "CodeAnalysis object, optional line threshold for large files (default 500)",
      "outputs": "Array of FunctionAnalysis objects containing detailed function information"
    },
    {
      "name": "analyzeFunction",
      "desc": "Performs detailed analysis on a single function including extracting signature, dependencies, and dependent relationships",
      "inputs": "File path, function information object, code analysis object",
      "outputs": "FunctionAnalysis object or null if analysis fails"
    },
    {
      "name": "resolveFilePath",
      "desc": "Resolves relative file paths to absolute paths for file system access",
      "inputs": "Relative file path, code analysis object",
      "outputs": "Absolute file path string"
    }
  ],
  "dependencies": [
    "fs",
    "path",
    "typescript",
    "../analyzer",
    "../domain/prompts/refactoringPromptBuilder"
  ],
  "intent": "This file exists to provide deep analysis of functions within large files to support automated refactoring suggestions. It solves the problem of identifying which functions in oversized files should be refactored by extracting their signatures, understanding their dependencies, and mapping their usage patterns across the codebase. This enables developers to make informed decisions about code splitting and module organization.",
  "rawContent": "```json\n{\n  \"purpose\": \"Extracts detailed function information from large code files to support refactoring analysis and reporting.\",\n  \"userVisibleActions\": [\n    \"Identifies functions in large files that may need refactoring\",\n    \"Provides detailed function information including signatures, dependencies, and responsibilities\",\n    \"Highlights which functions are called by other parts of the codebase (dependents)\",\n    \"Shows what other functions or modules each function depends on\"\n  ],\n  \"developerVisibleActions\": [\n    \"Developer runs analysis on a codebase to identify large files\",\n    \"System automatically analyzes all functions in files exceeding a configurable line threshold (default 500 lines)\",\n    \"Developer receives structured function analysis data for each function in large files\",\n    \"System extracts function signatures, metadata, dependencies, and dependent relationships\",\n    \"Developer can use this analysis to inform refactoring decisions and generate refactoring reports\",\n    \"Analysis integrates with existing code analysis infrastructure to build comprehensive function profiles\"\n  ],\n  \"keyFunctions\": [\n    {\n      \"name\": \"analyzeFunctions\",\n      \"desc\": \"Analyzes all functions in large files and returns detailed function analysis data\",\n      \"inputs\": \"CodeAnalysis object, optional line threshold for large files (default 500)\",\n      \"outputs\": \"Array of FunctionAnalysis objects containing detailed function information\"\n    },\n    {\n      \"name\": \"analyzeFunction\",\n      \"desc\": \"Performs detailed analysis on a single function including extracting signature, dependencies, and dependent relationships\",\n      \"inputs\": \"File path, function information object, code analysis object\",\n      \"outputs\": \"FunctionAnalysis object or null if analysis fails\"\n    },\n    {\n      \"name\": \"resolveFilePath\",\n      \"desc\": \"Resolves relative file paths to absolute paths for file system access\",\n      \"inputs\": \"Relative file path, code analysis object\",\n      \"outputs\": \"Absolute file path string\"\n    }\n  ],\n  \"dependencies\": [\n    \"fs\",\n    \"path\",\n    \"typescript\",\n    \"../analyzer\",\n    \"../domain/prompts/refactoringPromptBuilder\"\n  ],\n  \"intent\": \"This file exists to provide deep analysis of functions within large files to support automated refactoring suggestions. It solves the problem of identifying which functions in oversized files should be refactored by extracting their signatures, understanding their dependencies, and mapping their usage patterns across the codebase. This enables developers to make informed decisions about code splitting and module organization.\"\n}\n```",
  "_metadata": {
    "index": 0,
    "total": 0,
    "savedAt": "2025-11-21T17:35:54.814Z"
  }
}