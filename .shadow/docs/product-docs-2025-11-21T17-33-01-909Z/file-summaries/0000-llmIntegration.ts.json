{
  "file": "src/llmIntegration.ts",
  "role": "Core Logic",
  "purpose": "Integrates LLM-powered features into VS Code to provide AI-driven code analysis, documentation generation, and insights for software projects",
  "userVisibleActions": [
    "View AI-generated code insights in a tree view panel",
    "Generate comprehensive product documentation from code",
    "Analyze code structure and relationships automatically",
    "View entry points and code flow visualizations",
    "Browse unit test results and coverage",
    "See AI-powered recommendations for code improvements",
    "Access formatted documentation in output channels",
    "Navigate through analyzed code components",
    "View saved analysis results from previous sessions"
  ],
  "developerVisibleActions": [
    "Initialize LLM service on extension activation",
    "Configure API keys for LLM providers",
    "Trigger code analysis on workspace or specific files",
    "Generate documentation that persists across sessions",
    "Load and display previously saved insights and analysis",
    "Refresh tree views when configuration changes",
    "Export analysis results to structured formats",
    "Handle errors and display status in output channels",
    "Integrate with multiple view providers (insights, analysis, navigation)",
    "Manage state across extension lifecycle"
  ],
  "keyFunctions": [
    {
      "name": "initializeLLMService",
      "desc": "Sets up the LLM service, creates output channels, and loads saved data on extension startup",
      "inputs": "none",
      "outputs": "void - initializes state manager with LLM service"
    },
    {
      "name": "analyzeCodebase",
      "desc": "Analyzes entire codebase or specific files to extract structure, dependencies, and entry points",
      "inputs": "workspace or file paths",
      "outputs": "CodeAnalysis object with discovered patterns and relationships"
    },
    {
      "name": "generateDocumentation",
      "desc": "Creates comprehensive product documentation from analyzed code using LLM",
      "inputs": "analysis context and code structure",
      "outputs": "EnhancedProductDocumentation with formatted sections"
    },
    {
      "name": "getInsights",
      "desc": "Generates AI-powered insights about code quality, architecture, and improvements",
      "inputs": "AnalysisContext with code information",
      "outputs": "LLMInsights with recommendations and observations"
    },
    {
      "name": "saveCodeAnalysis",
      "desc": "Persists analysis results to storage for future sessions",
      "inputs": "CodeAnalysis object and workspace path",
      "outputs": "void - saves to file system"
    },
    {
      "name": "loadSavedCodeAnalysis",
      "desc": "Retrieves previously saved analysis results from storage",
      "inputs": "workspace path",
      "outputs": "CodeAnalysis object or null if not found"
    },
    {
      "name": "convertCodeAnalysisToContext",
      "desc": "Transforms code analysis into a format suitable for LLM processing",
      "inputs": "CodeAnalysis object",
      "outputs": "AnalysisContext for LLM consumption"
    }
  ],
  "dependencies": [
    "vscode",
    "fs",
    "path",
    "child_process",
    "util",
    "./llmService",
    "./insightsTreeView",
    "./fileDocumentation",
    "./analyzer",
    "./productNavigator",
    "./analysisViewer",
    "./insightsViewer",
    "./unitTestsNavigator",
    "./logger",
    "./state/llmStateManager",
    "./context/analysisContextBuilder",
    "./domain/formatters/documentationFormatter",
    "./infrastructure/persistence/analysisResultRepository"
  ],
  "intent": "This file exists to bridge the gap between raw code analysis and AI-powered understanding, enabling developers to quickly comprehend large codebases through automated documentation, insights, and visualizations. It solves the problem of manually documenting and understanding complex software projects by leveraging LLM capabilities to automatically generate meaningful documentation, identify patterns, and provide actionable insights.",
  "rawContent": "```json\n{\n  \"purpose\": \"Integrates LLM-powered features into VS Code to provide AI-driven code analysis, documentation generation, and insights for software projects\",\n  \"userVisibleActions\": [\n    \"View AI-generated code insights in a tree view panel\",\n    \"Generate comprehensive product documentation from code\",\n    \"Analyze code structure and relationships automatically\",\n    \"View entry points and code flow visualizations\",\n    \"Browse unit test results and coverage\",\n    \"See AI-powered recommendations for code improvements\",\n    \"Access formatted documentation in output channels\",\n    \"Navigate through analyzed code components\",\n    \"View saved analysis results from previous sessions\"\n  ],\n  \"developerVisibleActions\": [\n    \"Initialize LLM service on extension activation\",\n    \"Configure API keys for LLM providers\",\n    \"Trigger code analysis on workspace or specific files\",\n    \"Generate documentation that persists across sessions\",\n    \"Load and display previously saved insights and analysis\",\n    \"Refresh tree views when configuration changes\",\n    \"Export analysis results to structured formats\",\n    \"Handle errors and display status in output channels\",\n    \"Integrate with multiple view providers (insights, analysis, navigation)\",\n    \"Manage state across extension lifecycle\"\n  ],\n  \"keyFunctions\": [\n    {\n      \"name\": \"initializeLLMService\",\n      \"desc\": \"Sets up the LLM service, creates output channels, and loads saved data on extension startup\",\n      \"inputs\": \"none\",\n      \"outputs\": \"void - initializes state manager with LLM service\"\n    },\n    {\n      \"name\": \"analyzeCodebase\",\n      \"desc\": \"Analyzes entire codebase or specific files to extract structure, dependencies, and entry points\",\n      \"inputs\": \"workspace or file paths\",\n      \"outputs\": \"CodeAnalysis object with discovered patterns and relationships\"\n    },\n    {\n      \"name\": \"generateDocumentation\",\n      \"desc\": \"Creates comprehensive product documentation from analyzed code using LLM\",\n      \"inputs\": \"analysis context and code structure\",\n      \"outputs\": \"EnhancedProductDocumentation with formatted sections\"\n    },\n    {\n      \"name\": \"getInsights\",\n      \"desc\": \"Generates AI-powered insights about code quality, architecture, and improvements\",\n      \"inputs\": \"AnalysisContext with code information\",\n      \"outputs\": \"LLMInsights with recommendations and observations\"\n    },\n    {\n      \"name\": \"saveCodeAnalysis\",\n      \"desc\": \"Persists analysis results to storage for future sessions\",\n      \"inputs\": \"CodeAnalysis object and workspace path\",\n      \"outputs\": \"void - saves to file system\"\n    },\n    {\n      \"name\": \"loadSavedCodeAnalysis\",\n      \"desc\": \"Retrieves previously saved analysis results from storage\",\n      \"inputs\": \"workspace path\",\n      \"outputs\": \"CodeAnalysis object or null if not found\"\n    },\n    {\n      \"name\": \"convertCodeAnalysisToContext\",\n      \"desc\": \"Transforms code analysis into a format suitable for LLM processing\",\n      \"inputs\": \"CodeAnalysis object\",\n      \"outputs\": \"AnalysisContext for LLM consumption\"\n    }\n  ],\n  \"dependencies\": [\n    \"vscode\",\n    \"fs\",\n    \"path\",\n    \"child_process\",\n    \"util\",\n    \"./llmService\",\n    \"./insightsTreeView\",\n    \"./fileDocumentation\",\n    \"./analyzer\",\n    \"./productNavigator\",\n    \"./analysisViewer\",\n    \"./insightsViewer\",\n    \"./unitTestsNavigator\",\n    \"./logger\",\n    \"./state/llmStateManager\",\n    \"./context/analysisContextBuilder\",\n    \"./domain/formatters/documentationFormatter\",\n    \"./infrastructure/persistence/analysisResultRepository\"\n  ],\n  \"intent\": \"This file exists to bridge the gap between raw code analysis and AI-powered understanding, enabling developers to quickly comprehend large codebases through automated documentation, insights, and visualizations. It solves the problem of manually documenting and understanding complex software projects by leveraging LLM capabilities to automatically generate meaningful documentation, identify patterns, and provide actionable insights.\"\n}\n```",
  "_metadata": {
    "index": 0,
    "total": 0,
    "savedAt": "2025-11-21T17:47:31.610Z"
  }
}