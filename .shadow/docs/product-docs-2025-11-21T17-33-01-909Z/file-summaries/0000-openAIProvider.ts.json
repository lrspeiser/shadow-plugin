{
  "file": "src/ai/providers/openAIProvider.ts",
  "role": "Core Logic",
  "purpose": "Implements the OpenAI API provider to send chat completion requests and handle structured responses using OpenAI's GPT models",
  "userVisibleActions": [
    "Sends messages to OpenAI's GPT models and receives AI-generated responses",
    "Supports structured JSON output format when requested",
    "Processes streaming responses for real-time AI output display",
    "Validates API key configuration before allowing requests",
    "Returns error messages when OpenAI API key is not configured"
  ],
  "developerVisibleActions": [
    "Provides ILLMProvider interface implementation for OpenAI",
    "Automatically initializes OpenAI client with API key from configuration manager",
    "Defaults to 'gpt-4o' model when no model is specified",
    "Sets 5-minute timeout for all OpenAI API requests",
    "Combines system prompts with conversation messages automatically",
    "Extracts and parses JSON from structured responses",
    "Handles streaming responses with token-by-token content delivery",
    "Reports finish reasons (stop, length, content_filter, etc.) from API responses"
  ],
  "keyFunctions": [
    {
      "name": "initialize",
      "desc": "Sets up OpenAI client with API key from configuration",
      "inputs": "none",
      "outputs": "void"
    },
    {
      "name": "isConfigured",
      "desc": "Checks if OpenAI client is ready with valid API key",
      "inputs": "none",
      "outputs": "boolean"
    },
    {
      "name": "getName",
      "desc": "Returns provider identifier",
      "inputs": "none",
      "outputs": "string 'openai'"
    },
    {
      "name": "sendRequest",
      "desc": "Sends chat completion request to OpenAI API with messages and options",
      "inputs": "LLMRequestOptions (model, messages, systemPrompt, responseFormat)",
      "outputs": "Promise<LLMResponse> with content and finish reason"
    },
    {
      "name": "sendStructuredRequest",
      "desc": "Sends request expecting JSON response and parses it into structured data",
      "inputs": "LLMRequestOptions with JSON response format",
      "outputs": "Promise<StructuredOutputResponse> with parsed JSON data"
    },
    {
      "name": "sendStreamingRequest",
      "desc": "Sends streaming request and yields response tokens in real-time",
      "inputs": "LLMRequestOptions",
      "outputs": "AsyncGenerator yielding content chunks and finish reason"
    }
  ],
  "dependencies": [
    "openai",
    "configurationManager",
    "jsonExtractor",
    "ILLMProvider"
  ],
  "intent": "This file exists to integrate OpenAI's GPT models into the application by providing a standardized interface for chat completions, structured outputs, and streaming responses. It solves the problem of communicating with OpenAI's API while abstracting away provider-specific details through the ILLMProvider interface, allowing the application to easily swap AI providers.",
  "rawContent": "```json\n{\n  \"purpose\": \"Implements the OpenAI API provider to send chat completion requests and handle structured responses using OpenAI's GPT models\",\n  \"userVisibleActions\": [\n    \"Sends messages to OpenAI's GPT models and receives AI-generated responses\",\n    \"Supports structured JSON output format when requested\",\n    \"Processes streaming responses for real-time AI output display\",\n    \"Validates API key configuration before allowing requests\",\n    \"Returns error messages when OpenAI API key is not configured\"\n  ],\n  \"developerVisibleActions\": [\n    \"Provides ILLMProvider interface implementation for OpenAI\",\n    \"Automatically initializes OpenAI client with API key from configuration manager\",\n    \"Defaults to 'gpt-4o' model when no model is specified\",\n    \"Sets 5-minute timeout for all OpenAI API requests\",\n    \"Combines system prompts with conversation messages automatically\",\n    \"Extracts and parses JSON from structured responses\",\n    \"Handles streaming responses with token-by-token content delivery\",\n    \"Reports finish reasons (stop, length, content_filter, etc.) from API responses\"\n  ],\n  \"keyFunctions\": [\n    {\n      \"name\": \"initialize\",\n      \"desc\": \"Sets up OpenAI client with API key from configuration\",\n      \"inputs\": \"none\",\n      \"outputs\": \"void\"\n    },\n    {\n      \"name\": \"isConfigured\",\n      \"desc\": \"Checks if OpenAI client is ready with valid API key\",\n      \"inputs\": \"none\",\n      \"outputs\": \"boolean\"\n    },\n    {\n      \"name\": \"getName\",\n      \"desc\": \"Returns provider identifier\",\n      \"inputs\": \"none\",\n      \"outputs\": \"string 'openai'\"\n    },\n    {\n      \"name\": \"sendRequest\",\n      \"desc\": \"Sends chat completion request to OpenAI API with messages and options\",\n      \"inputs\": \"LLMRequestOptions (model, messages, systemPrompt, responseFormat)\",\n      \"outputs\": \"Promise<LLMResponse> with content and finish reason\"\n    },\n    {\n      \"name\": \"sendStructuredRequest\",\n      \"desc\": \"Sends request expecting JSON response and parses it into structured data\",\n      \"inputs\": \"LLMRequestOptions with JSON response format\",\n      \"outputs\": \"Promise<StructuredOutputResponse> with parsed JSON data\"\n    },\n    {\n      \"name\": \"sendStreamingRequest\",\n      \"desc\": \"Sends streaming request and yields response tokens in real-time\",\n      \"inputs\": \"LLMRequestOptions\",\n      \"outputs\": \"AsyncGenerator yielding content chunks and finish reason\"\n    }\n  ],\n  \"dependencies\": [\n    \"openai\",\n    \"configurationManager\",\n    \"jsonExtractor\",\n    \"ILLMProvider\"\n  ],\n  \"intent\": \"This file exists to integrate OpenAI's GPT models into the application by providing a standardized interface for chat completions, structured outputs, and streaming responses. It solves the problem of communicating with OpenAI's API while abstracting away provider-specific details through the ILLMProvider interface, allowing the application to easily swap AI providers.\"\n}\n```",
  "_metadata": {
    "index": 0,
    "total": 0,
    "savedAt": "2025-11-21T17:35:01.610Z"
  }
}