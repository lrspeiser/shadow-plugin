{
  "file": "src/fileAccessHelper.ts",
  "role": "Core Logic",
  "purpose": "Provides file reading and code search (grep) functionality to enable iterative analysis of codebases by LLM agents",
  "userVisibleActions": [
    "View file contents from the workspace when requested by the LLM",
    "See search results when the LLM queries for code patterns across files",
    "Receive organized file listings grouped by folders with line counts",
    "Get context around matched lines (before/after lines) in search results"
  ],
  "developerVisibleActions": [
    "Request specific files by path to analyze their contents",
    "Search for code patterns using grep with optional file type filters",
    "Limit search results to prevent overwhelming responses",
    "Receive structured data about files (path, content, line count, existence status)",
    "Get matches with line numbers and surrounding context for better understanding",
    "Process requests through a unified LLMRequest interface supporting both file and grep operations"
  ],
  "keyFunctions": [
    {
      "name": "getFileListing",
      "desc": "Organizes files into a hierarchical folder structure with metadata",
      "inputs": "Array of file objects with path, lines, and language",
      "outputs": "Formatted string showing files grouped by folders with sorting"
    },
    {
      "name": "readFile",
      "desc": "Reads and returns the contents of a specific file",
      "inputs": "FileRequest with file path and optional reason",
      "outputs": "FileResponse with content, line count, and existence status"
    },
    {
      "name": "grepFiles",
      "desc": "Searches for patterns across files with optional filtering and result limiting",
      "inputs": "GrepRequest with pattern, optional file pattern filter, max results, and reason",
      "outputs": "GrepResponse with matches including file paths, line numbers, content, and context"
    },
    {
      "name": "processRequest",
      "desc": "Routes requests to appropriate handler based on request type",
      "inputs": "LLMRequest (either FileRequest or GrepRequest)",
      "outputs": "FileResponse or GrepResponse depending on request type"
    },
    {
      "name": "formatResponse",
      "desc": "Converts response objects into human-readable formatted strings",
      "inputs": "FileResponse or GrepResponse",
      "outputs": "Formatted string presentation of the response"
    }
  ],
  "dependencies": [
    "fs",
    "path"
  ],
  "intent": "This file exists to bridge the gap between LLM agents and file system access, allowing AI to iteratively explore and analyze code by requesting specific files or searching for patterns. It solves the problem of providing structured, controlled access to workspace files for LLM-driven code analysis without exposing the entire codebase at once.",
  "rawContent": "```json\n{\n  \"purpose\": \"Provides file reading and code search (grep) functionality to enable iterative analysis of codebases by LLM agents\",\n  \"userVisibleActions\": [\n    \"View file contents from the workspace when requested by the LLM\",\n    \"See search results when the LLM queries for code patterns across files\",\n    \"Receive organized file listings grouped by folders with line counts\",\n    \"Get context around matched lines (before/after lines) in search results\"\n  ],\n  \"developerVisibleActions\": [\n    \"Request specific files by path to analyze their contents\",\n    \"Search for code patterns using grep with optional file type filters\",\n    \"Limit search results to prevent overwhelming responses\",\n    \"Receive structured data about files (path, content, line count, existence status)\",\n    \"Get matches with line numbers and surrounding context for better understanding\",\n    \"Process requests through a unified LLMRequest interface supporting both file and grep operations\"\n  ],\n  \"keyFunctions\": [\n    {\n      \"name\": \"getFileListing\",\n      \"desc\": \"Organizes files into a hierarchical folder structure with metadata\",\n      \"inputs\": \"Array of file objects with path, lines, and language\",\n      \"outputs\": \"Formatted string showing files grouped by folders with sorting\"\n    },\n    {\n      \"name\": \"readFile\",\n      \"desc\": \"Reads and returns the contents of a specific file\",\n      \"inputs\": \"FileRequest with file path and optional reason\",\n      \"outputs\": \"FileResponse with content, line count, and existence status\"\n    },\n    {\n      \"name\": \"grepFiles\",\n      \"desc\": \"Searches for patterns across files with optional filtering and result limiting\",\n      \"inputs\": \"GrepRequest with pattern, optional file pattern filter, max results, and reason\",\n      \"outputs\": \"GrepResponse with matches including file paths, line numbers, content, and context\"\n    },\n    {\n      \"name\": \"processRequest\",\n      \"desc\": \"Routes requests to appropriate handler based on request type\",\n      \"inputs\": \"LLMRequest (either FileRequest or GrepRequest)\",\n      \"outputs\": \"FileResponse or GrepResponse depending on request type\"\n    },\n    {\n      \"name\": \"formatResponse\",\n      \"desc\": \"Converts response objects into human-readable formatted strings\",\n      \"inputs\": \"FileResponse or GrepResponse\",\n      \"outputs\": \"Formatted string presentation of the response\"\n    }\n  ],\n  \"dependencies\": [\n    \"fs\",\n    \"path\"\n  ],\n  \"intent\": \"This file exists to bridge the gap between LLM agents and file system access, allowing AI to iteratively explore and analyze code by requesting specific files or searching for patterns. It solves the problem of providing structured, controlled access to workspace files for LLM-driven code analysis without exposing the entire codebase at once.\"\n}\n```",
  "_metadata": {
    "index": 0,
    "total": 0,
    "savedAt": "2025-11-21T17:44:14.656Z"
  }
}