{
  "file": "src/extension.ts",
  "role": "Core Logic",
  "purpose": "Activates and orchestrates the VS Code extension for code analysis, providing commands, views, and integrations for analyzing codebases and generating insights.",
  "userVisibleActions": [
    "Trigger full codebase analysis through command palette or status bar",
    "Analyze currently open file for structure and insights",
    "View analyzed code insights in tree view sidebar",
    "Format analysis output for LLM consumption",
    "Navigate to specific code elements (functions, classes, entry points) from analysis views",
    "Export analysis results to markdown or JSON files",
    "View code analysis diagnostics and warnings in Problems panel",
    "Clear analysis cache to force fresh analysis",
    "View product navigation tree showing project structure",
    "View static analysis results in dedicated panel",
    "View unit tests organization in test navigator",
    "See analysis progress in status bar with clickable indicator"
  ],
  "developerVisibleActions": [
    "Extension initializes on VS Code startup and registers all commands and providers",
    "File watcher monitors workspace for changes and triggers automatic re-analysis",
    "Analysis results are cached to improve performance on subsequent requests",
    "Multiple webview providers display different aspects of analysis (insights, static analysis, unit tests)",
    "Command handlers process user actions and coordinate between analyzer, generators, and UI components",
    "Diagnostics provider updates Problems panel with code issues found during analysis",
    "Status bar item shows current analysis state and provides quick access to analysis commands",
    "Extension uses bootstrapper pattern to initialize components in correct dependency order",
    "Configuration manager provides centralized access to extension settings",
    "Error handler catches and displays user-friendly error messages for analysis failures"
  ],
  "keyFunctions": [
    {
      "name": "activate",
      "desc": "Entry point that initializes the extension, sets up all providers, registers commands, and starts file watching",
      "inputs": "context: vscode.ExtensionContext",
      "outputs": "void (registers disposables in context)"
    },
    {
      "name": "deactivate",
      "desc": "Cleanup function called when extension is disabled or VS Code closes",
      "inputs": "none",
      "outputs": "void"
    },
    {
      "name": "analyzeWorkspace",
      "desc": "Analyzes entire workspace codebase and updates all views with results",
      "inputs": "none (uses workspace folders)",
      "outputs": "Promise<void>"
    },
    {
      "name": "analyzeCurrentFile",
      "desc": "Analyzes the currently active editor file and displays results",
      "inputs": "none (uses active text editor)",
      "outputs": "Promise<void>"
    },
    {
      "name": "formatForLLM",
      "desc": "Formats analysis output in LLM-friendly format and displays in editor",
      "inputs": "none (uses cached analysis)",
      "outputs": "Promise<void>"
    },
    {
      "name": "exportAnalysis",
      "desc": "Exports current analysis results to file (markdown or JSON format)",
      "inputs": "format: 'markdown' | 'json'",
      "outputs": "Promise<void>"
    },
    {
      "name": "clearCache",
      "desc": "Clears analysis cache and forces fresh analysis on next request",
      "inputs": "none",
      "outputs": "void"
    },
    {
      "name": "navigateToElement",
      "desc": "Opens file and jumps to specific code element location from analysis view",
      "inputs": "item: TreeItem | AnalysisItem | InsightItem | StaticAnalysisItem",
      "outputs": "Promise<void>"
    }
  ],
  "dependencies": [
    "vscode",
    "path",
    "./analyzer",
    "./insightGenerator",
    "./llmFormatter",
    "./fileWatcher",
    "./insightsTreeView",
    "./diagnosticsProvider",
    "./cache",
    "./llmIntegration",
    "./productNavigator",
    "./analysisViewer",
    "./insightsViewer",
    "./staticAnalysisViewer",
    "./unitTestsNavigator",
    "./config/configurationManager",
    "./utils/errorHandler",
    "./ui/webview/webviewTemplateEngine",
    "./domain/bootstrap/extensionBootstrapper",
    "./domain/bootstrap/commandRegistry",
    "./domain/handlers/navigationHandler"
  ],
  "intent": "This file exists as the main entry point and orchestrator for the VS Code extension. It solves the problem of coordinating multiple subsystems (analysis, UI, caching, file watching) into a cohesive user experience, registering all commands and views that users interact with, and managing the lifecycle of extension components from activation to deactivation.",
  "rawContent": "```json\n{\n  \"purpose\": \"Activates and orchestrates the VS Code extension for code analysis, providing commands, views, and integrations for analyzing codebases and generating insights.\",\n  \"userVisibleActions\": [\n    \"Trigger full codebase analysis through command palette or status bar\",\n    \"Analyze currently open file for structure and insights\",\n    \"View analyzed code insights in tree view sidebar\",\n    \"Format analysis output for LLM consumption\",\n    \"Navigate to specific code elements (functions, classes, entry points) from analysis views\",\n    \"Export analysis results to markdown or JSON files\",\n    \"View code analysis diagnostics and warnings in Problems panel\",\n    \"Clear analysis cache to force fresh analysis\",\n    \"View product navigation tree showing project structure\",\n    \"View static analysis results in dedicated panel\",\n    \"View unit tests organization in test navigator\",\n    \"See analysis progress in status bar with clickable indicator\"\n  ],\n  \"developerVisibleActions\": [\n    \"Extension initializes on VS Code startup and registers all commands and providers\",\n    \"File watcher monitors workspace for changes and triggers automatic re-analysis\",\n    \"Analysis results are cached to improve performance on subsequent requests\",\n    \"Multiple webview providers display different aspects of analysis (insights, static analysis, unit tests)\",\n    \"Command handlers process user actions and coordinate between analyzer, generators, and UI components\",\n    \"Diagnostics provider updates Problems panel with code issues found during analysis\",\n    \"Status bar item shows current analysis state and provides quick access to analysis commands\",\n    \"Extension uses bootstrapper pattern to initialize components in correct dependency order\",\n    \"Configuration manager provides centralized access to extension settings\",\n    \"Error handler catches and displays user-friendly error messages for analysis failures\"\n  ],\n  \"keyFunctions\": [\n    {\n      \"name\": \"activate\",\n      \"desc\": \"Entry point that initializes the extension, sets up all providers, registers commands, and starts file watching\",\n      \"inputs\": \"context: vscode.ExtensionContext\",\n      \"outputs\": \"void (registers disposables in context)\"\n    },\n    {\n      \"name\": \"deactivate\",\n      \"desc\": \"Cleanup function called when extension is disabled or VS Code closes\",\n      \"inputs\": \"none\",\n      \"outputs\": \"void\"\n    },\n    {\n      \"name\": \"analyzeWorkspace\",\n      \"desc\": \"Analyzes entire workspace codebase and updates all views with results\",\n      \"inputs\": \"none (uses workspace folders)\",\n      \"outputs\": \"Promise<void>\"\n    },\n    {\n      \"name\": \"analyzeCurrentFile\",\n      \"desc\": \"Analyzes the currently active editor file and displays results\",\n      \"inputs\": \"none (uses active text editor)\",\n      \"outputs\": \"Promise<void>\"\n    },\n    {\n      \"name\": \"formatForLLM\",\n      \"desc\": \"Formats analysis output in LLM-friendly format and displays in editor\",\n      \"inputs\": \"none (uses cached analysis)\",\n      \"outputs\": \"Promise<void>\"\n    },\n    {\n      \"name\": \"exportAnalysis\",\n      \"desc\": \"Exports current analysis results to file (markdown or JSON format)\",\n      \"inputs\": \"format: 'markdown' | 'json'\",\n      \"outputs\": \"Promise<void>\"\n    },\n    {\n      \"name\": \"clearCache\",\n      \"desc\": \"Clears analysis cache and forces fresh analysis on next request\",\n      \"inputs\": \"none\",\n      \"outputs\": \"void\"\n    },\n    {\n      \"name\": \"navigateToElement\",\n      \"desc\": \"Opens file and jumps to specific code element location from analysis view\",\n      \"inputs\": \"item: TreeItem | AnalysisItem | InsightItem | StaticAnalysisItem\",\n      \"outputs\": \"Promise<void>\"\n    }\n  ],\n  \"dependencies\": [\n    \"vscode\",\n    \"path\",\n    \"./analyzer\",\n    \"./insightGenerator\",\n    \"./llmFormatter\",\n    \"./fileWatcher\",\n    \"./insightsTreeView\",\n    \"./diagnosticsProvider\",\n    \"./cache\",\n    \"./llmIntegration\",\n    \"./productNavigator\",\n    \"./analysisViewer\",\n    \"./insightsViewer\",\n    \"./staticAnalysisViewer\",\n    \"./unitTestsNavigator\",\n    \"./config/configurationManager\",\n    \"./utils/errorHandler\",\n    \"./ui/webview/webviewTemplateEngine\",\n    \"./domain/bootstrap/extensionBootstrapper\",\n    \"./domain/bootstrap/commandRegistry\",\n    \"./domain/handlers/navigationHandler\"\n  ],\n  \"intent\": \"This file exists as the main entry point and orchestrator for the VS Code extension. It solves the problem of coordinating multiple subsystems (analysis, UI, caching, file watching) into a cohesive user experience, registering all commands and views that users interact with, and managing the lifecycle of extension components from activation to deactivation.\"\n}\n```",
  "_metadata": {
    "index": 0,
    "total": 0,
    "savedAt": "2025-11-20T00:55:21.063Z"
  }
}