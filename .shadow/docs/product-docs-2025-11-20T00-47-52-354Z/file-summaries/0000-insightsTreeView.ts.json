{
  "file": "src/insightsTreeView.ts",
  "role": "GUI View",
  "purpose": "Provides a tree view in the VS Code sidebar that displays code insights, documentation status, analysis results, and generated reports with interactive actions.",
  "userVisibleActions": [
    "View a tree of code analysis insights organized by severity (critical, high, medium, low)",
    "See status indicators for product documentation generation (idle, generating, complete)",
    "See status indicators for insights generation and unit test generation",
    "Click on insights to navigate to the relevant code location",
    "Refresh the insights tree to update displayed information",
    "Generate product documentation from the tree view",
    "Generate architecture documentation from the tree view",
    "Generate unit tests from the tree view",
    "Open generated report files (workspace, product, architecture, unit test, static analysis)",
    "View timestamp information showing when reports were generated",
    "Copy insight text to clipboard",
    "Expand/collapse insight categories and details",
    "See a 'No insights available' message when no analysis has been performed",
    "View detailed insight information including file path, line number, and recommendations"
  ],
  "developerVisibleActions": [
    "Tree view updates automatically when insights are generated or refreshed",
    "Status changes are reflected in real-time (generating, complete, idle)",
    "Reports are saved to workspace storage and persist across sessions",
    "Tree items show contextual actions based on their type (generate, open, refresh)",
    "LLM-generated insights are displayed alongside traditional code insights",
    "Timestamps are persisted and restored when VS Code restarts",
    "Tree structure adapts based on available data (insights, reports, documentation)",
    "Context values enable conditional command visibility in the tree"
  ],
  "keyFunctions": [
    {
      "name": "setInsights",
      "desc": "Updates the tree view with new code insights",
      "inputs": "Array of Insight objects",
      "outputs": "Triggers tree refresh"
    },
    {
      "name": "setLLMInsights",
      "desc": "Updates the tree view with LLM-generated insights and documentation status",
      "inputs": "LLMInsights object containing status and generated content",
      "outputs": "Triggers tree refresh and saves timestamps"
    },
    {
      "name": "getTreeItem",
      "desc": "Converts a tree item into a VS Code tree item for display",
      "inputs": "TreeItem object",
      "outputs": "vscode.TreeItem with display properties"
    },
    {
      "name": "getChildren",
      "desc": "Provides the hierarchical structure of tree items",
      "inputs": "Optional parent TreeItem",
      "outputs": "Array of child TreeItem objects"
    },
    {
      "name": "setReportPath",
      "desc": "Saves the path to a generated report file",
      "inputs": "Report file path and type (workspace, product, architecture, unit test)",
      "outputs": "Updates tree display with report availability"
    },
    {
      "name": "refresh",
      "desc": "Forces the tree view to reload and display updated data",
      "inputs": "Optional TreeItem to refresh specific branch",
      "outputs": "Tree view refresh event"
    },
    {
      "name": "setStaticAnalysisViewer",
      "desc": "Associates the static analysis viewer with the tree view",
      "inputs": "Static analysis viewer instance",
      "outputs": "Enables static analysis report display"
    },
    {
      "name": "loadPersistedState",
      "desc": "Restores saved report paths and timestamps from previous sessions",
      "inputs": "Reads from extension context storage",
      "outputs": "Restores tree state with persisted data"
    }
  ],
  "dependencies": [
    "vscode",
    "./insightGenerator",
    "./llmFormatter",
    "./llmService"
  ],
  "intent": "This file exists to provide a visual, interactive sidebar panel in VS Code where users can view code analysis results, track documentation generation progress, access generated reports, and trigger various code analysis and documentation actions without leaving the editor.",
  "rawContent": "```json\n{\n  \"purpose\": \"Provides a tree view in the VS Code sidebar that displays code insights, documentation status, analysis results, and generated reports with interactive actions.\",\n  \"userVisibleActions\": [\n    \"View a tree of code analysis insights organized by severity (critical, high, medium, low)\",\n    \"See status indicators for product documentation generation (idle, generating, complete)\",\n    \"See status indicators for insights generation and unit test generation\",\n    \"Click on insights to navigate to the relevant code location\",\n    \"Refresh the insights tree to update displayed information\",\n    \"Generate product documentation from the tree view\",\n    \"Generate architecture documentation from the tree view\",\n    \"Generate unit tests from the tree view\",\n    \"Open generated report files (workspace, product, architecture, unit test, static analysis)\",\n    \"View timestamp information showing when reports were generated\",\n    \"Copy insight text to clipboard\",\n    \"Expand/collapse insight categories and details\",\n    \"See a 'No insights available' message when no analysis has been performed\",\n    \"View detailed insight information including file path, line number, and recommendations\"\n  ],\n  \"developerVisibleActions\": [\n    \"Tree view updates automatically when insights are generated or refreshed\",\n    \"Status changes are reflected in real-time (generating, complete, idle)\",\n    \"Reports are saved to workspace storage and persist across sessions\",\n    \"Tree items show contextual actions based on their type (generate, open, refresh)\",\n    \"LLM-generated insights are displayed alongside traditional code insights\",\n    \"Timestamps are persisted and restored when VS Code restarts\",\n    \"Tree structure adapts based on available data (insights, reports, documentation)\",\n    \"Context values enable conditional command visibility in the tree\"\n  ],\n  \"keyFunctions\": [\n    {\n      \"name\": \"setInsights\",\n      \"desc\": \"Updates the tree view with new code insights\",\n      \"inputs\": \"Array of Insight objects\",\n      \"outputs\": \"Triggers tree refresh\"\n    },\n    {\n      \"name\": \"setLLMInsights\",\n      \"desc\": \"Updates the tree view with LLM-generated insights and documentation status\",\n      \"inputs\": \"LLMInsights object containing status and generated content\",\n      \"outputs\": \"Triggers tree refresh and saves timestamps\"\n    },\n    {\n      \"name\": \"getTreeItem\",\n      \"desc\": \"Converts a tree item into a VS Code tree item for display\",\n      \"inputs\": \"TreeItem object\",\n      \"outputs\": \"vscode.TreeItem with display properties\"\n    },\n    {\n      \"name\": \"getChildren\",\n      \"desc\": \"Provides the hierarchical structure of tree items\",\n      \"inputs\": \"Optional parent TreeItem\",\n      \"outputs\": \"Array of child TreeItem objects\"\n    },\n    {\n      \"name\": \"setReportPath\",\n      \"desc\": \"Saves the path to a generated report file\",\n      \"inputs\": \"Report file path and type (workspace, product, architecture, unit test)\",\n      \"outputs\": \"Updates tree display with report availability\"\n    },\n    {\n      \"name\": \"refresh\",\n      \"desc\": \"Forces the tree view to reload and display updated data\",\n      \"inputs\": \"Optional TreeItem to refresh specific branch\",\n      \"outputs\": \"Tree view refresh event\"\n    },\n    {\n      \"name\": \"setStaticAnalysisViewer\",\n      \"desc\": \"Associates the static analysis viewer with the tree view\",\n      \"inputs\": \"Static analysis viewer instance\",\n      \"outputs\": \"Enables static analysis report display\"\n    },\n    {\n      \"name\": \"loadPersistedState\",\n      \"desc\": \"Restores saved report paths and timestamps from previous sessions\",\n      \"inputs\": \"Reads from extension context storage\",\n      \"outputs\": \"Restores tree state with persisted data\"\n    }\n  ],\n  \"dependencies\": [\n    \"vscode\",\n    \"./insightGenerator\",\n    \"./llmFormatter\",\n    \"./llmService\"\n  ],\n  \"intent\": \"This file exists to provide a visual, interactive sidebar panel in VS Code where users can view code analysis results, track documentation generation progress, access generated reports, and trigger various code analysis and documentation actions without leaving the editor.\"\n}\n```",
  "_metadata": {
    "index": 0,
    "total": 0,
    "savedAt": "2025-11-20T00:57:23.253Z"
  }
}