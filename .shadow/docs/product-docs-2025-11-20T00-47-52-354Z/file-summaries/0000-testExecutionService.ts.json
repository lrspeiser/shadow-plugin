{
  "file": "src/domain/services/testing/testExecutionService.ts",
  "role": "Core Logic",
  "purpose": "Executes test suites (Jest/Mocha) and captures their results, errors, and execution statistics",
  "userVisibleActions": [
    "Tests run and complete with pass/fail status",
    "Test execution progress is displayed",
    "Test failures show error messages and stack traces",
    "Test duration and timing information is shown",
    "Overall test summary shows passed/failed/error counts"
  ],
  "developerVisibleActions": [
    "Call runJest() or runMocha() to execute tests for specific files or entire test suite",
    "Receive structured test results with pass/fail counts and error details",
    "Get detailed error information including test names, messages, and stack traces",
    "Access test execution duration and performance metrics",
    "Handle test execution errors and timeouts gracefully"
  ],
  "keyFunctions": [
    {
      "name": "runJest",
      "desc": "Executes Jest test runner for a specific file or all tests",
      "inputs": "workspaceRoot (string), optional testFile (string)",
      "outputs": "Promise<TestExecutionResult[]> containing test outcomes, counts, and errors"
    },
    {
      "name": "runMocha",
      "desc": "Executes Mocha test runner for a specific file or all tests",
      "inputs": "workspaceRoot (string), optional testFile (string)",
      "outputs": "Promise<TestExecutionResult[]> containing test outcomes, counts, and errors"
    },
    {
      "name": "parseJestOutput",
      "desc": "Parses JSON output from Jest test runner into structured results",
      "inputs": "stdout (string), stderr (string)",
      "outputs": "TestExecutionResult[] with parsed test outcomes and error details"
    },
    {
      "name": "parseMochaOutput",
      "desc": "Parses JSON output from Mocha test runner into structured results",
      "inputs": "stdout (string), stderr (string)",
      "outputs": "TestExecutionResult[] with parsed test outcomes and error details"
    }
  ],
  "dependencies": [
    "child_process",
    "path",
    "./types/testResultTypes"
  ],
  "intent": "Provides a unified interface for running different test frameworks (Jest and Mocha) in the workspace, capturing their output, and converting it into a consistent format that can be displayed to users and processed by other parts of the application. Solves the problem of executing tests programmatically and handling their results reliably with proper error handling and timeout management.",
  "rawContent": "```json\n{\n  \"purpose\": \"Executes test suites (Jest/Mocha) and captures their results, errors, and execution statistics\",\n  \"userVisibleActions\": [\n    \"Tests run and complete with pass/fail status\",\n    \"Test execution progress is displayed\",\n    \"Test failures show error messages and stack traces\",\n    \"Test duration and timing information is shown\",\n    \"Overall test summary shows passed/failed/error counts\"\n  ],\n  \"developerVisibleActions\": [\n    \"Call runJest() or runMocha() to execute tests for specific files or entire test suite\",\n    \"Receive structured test results with pass/fail counts and error details\",\n    \"Get detailed error information including test names, messages, and stack traces\",\n    \"Access test execution duration and performance metrics\",\n    \"Handle test execution errors and timeouts gracefully\"\n  ],\n  \"keyFunctions\": [\n    {\n      \"name\": \"runJest\",\n      \"desc\": \"Executes Jest test runner for a specific file or all tests\",\n      \"inputs\": \"workspaceRoot (string), optional testFile (string)\",\n      \"outputs\": \"Promise<TestExecutionResult[]> containing test outcomes, counts, and errors\"\n    },\n    {\n      \"name\": \"runMocha\",\n      \"desc\": \"Executes Mocha test runner for a specific file or all tests\",\n      \"inputs\": \"workspaceRoot (string), optional testFile (string)\",\n      \"outputs\": \"Promise<TestExecutionResult[]> containing test outcomes, counts, and errors\"\n    },\n    {\n      \"name\": \"parseJestOutput\",\n      \"desc\": \"Parses JSON output from Jest test runner into structured results\",\n      \"inputs\": \"stdout (string), stderr (string)\",\n      \"outputs\": \"TestExecutionResult[] with parsed test outcomes and error details\"\n    },\n    {\n      \"name\": \"parseMochaOutput\",\n      \"desc\": \"Parses JSON output from Mocha test runner into structured results\",\n      \"inputs\": \"stdout (string), stderr (string)\",\n      \"outputs\": \"TestExecutionResult[] with parsed test outcomes and error details\"\n    }\n  ],\n  \"dependencies\": [\n    \"child_process\",\n    \"path\",\n    \"./types/testResultTypes\"\n  ],\n  \"intent\": \"Provides a unified interface for running different test frameworks (Jest and Mocha) in the workspace, capturing their output, and converting it into a consistent format that can be displayed to users and processed by other parts of the application. Solves the problem of executing tests programmatically and handling their results reliably with proper error handling and timeout management.\"\n}\n```",
  "_metadata": {
    "index": 0,
    "total": 0,
    "savedAt": "2025-11-20T00:54:35.991Z"
  }
}