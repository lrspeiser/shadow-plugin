{
  "file": "src/analysis/functionAnalyzer.ts",
  "role": "Core Logic",
  "purpose": "Extracts detailed function information from large code files to support automated refactoring analysis and reporting.",
  "userVisibleActions": [
    "Receives analysis reports showing which functions in large files need refactoring",
    "Gets function signatures, dependencies, and responsibilities listed in refactoring suggestions",
    "Views which functions depend on or are depended upon by target functions"
  ],
  "developerVisibleActions": [
    "Calls analyzeFunctions() to scan large files and extract function metadata for refactoring reports",
    "Processes function signatures, dependencies, and call relationships from TypeScript source files",
    "Integrates with existing CodeAnalysis infrastructure to build comprehensive function analysis",
    "Filters files by size threshold to focus refactoring efforts on large files",
    "Receives FunctionAnalysis objects containing function details, dependencies, and responsibilities"
  ],
  "keyFunctions": [
    {
      "name": "analyzeFunctions",
      "desc": "Analyzes all functions in files exceeding a size threshold and returns detailed function information",
      "inputs": "CodeAnalysis object, optional size threshold in lines (default 500)",
      "outputs": "Array of FunctionAnalysis objects containing function details"
    },
    {
      "name": "analyzeFunction",
      "desc": "Performs deep analysis on a single function to extract its signature, dependencies, and relationships",
      "inputs": "File path, FunctionInfo object, CodeAnalysis context",
      "outputs": "FunctionAnalysis object or null if analysis fails"
    },
    {
      "name": "resolveFilePath",
      "desc": "Resolves relative file paths to absolute paths for file access",
      "inputs": "File path string, CodeAnalysis context",
      "outputs": "Resolved absolute file path"
    }
  ],
  "dependencies": [
    "fs",
    "path",
    "typescript",
    "../analyzer",
    "../domain/prompts/refactoringPromptBuilder"
  ],
  "intent": "This file exists to support automated code refactoring by extracting detailed function-level information from large files, enabling the system to understand function boundaries, dependencies, and responsibilities to generate meaningful refactoring recommendations.",
  "rawContent": "```json\n{\n  \"purpose\": \"Extracts detailed function information from large code files to support automated refactoring analysis and reporting.\",\n  \"userVisibleActions\": [\n    \"Receives analysis reports showing which functions in large files need refactoring\",\n    \"Gets function signatures, dependencies, and responsibilities listed in refactoring suggestions\",\n    \"Views which functions depend on or are depended upon by target functions\"\n  ],\n  \"developerVisibleActions\": [\n    \"Calls analyzeFunctions() to scan large files and extract function metadata for refactoring reports\",\n    \"Processes function signatures, dependencies, and call relationships from TypeScript source files\",\n    \"Integrates with existing CodeAnalysis infrastructure to build comprehensive function analysis\",\n    \"Filters files by size threshold to focus refactoring efforts on large files\",\n    \"Receives FunctionAnalysis objects containing function details, dependencies, and responsibilities\"\n  ],\n  \"keyFunctions\": [\n    {\n      \"name\": \"analyzeFunctions\",\n      \"desc\": \"Analyzes all functions in files exceeding a size threshold and returns detailed function information\",\n      \"inputs\": \"CodeAnalysis object, optional size threshold in lines (default 500)\",\n      \"outputs\": \"Array of FunctionAnalysis objects containing function details\"\n    },\n    {\n      \"name\": \"analyzeFunction\",\n      \"desc\": \"Performs deep analysis on a single function to extract its signature, dependencies, and relationships\",\n      \"inputs\": \"File path, FunctionInfo object, CodeAnalysis context\",\n      \"outputs\": \"FunctionAnalysis object or null if analysis fails\"\n    },\n    {\n      \"name\": \"resolveFilePath\",\n      \"desc\": \"Resolves relative file paths to absolute paths for file access\",\n      \"inputs\": \"File path string, CodeAnalysis context\",\n      \"outputs\": \"Resolved absolute file path\"\n    }\n  ],\n  \"dependencies\": [\n    \"fs\",\n    \"path\",\n    \"typescript\",\n    \"../analyzer\",\n    \"../domain/prompts/refactoringPromptBuilder\"\n  ],\n  \"intent\": \"This file exists to support automated code refactoring by extracting detailed function-level information from large files, enabling the system to understand function boundaries, dependencies, and responsibilities to generate meaningful refactoring recommendations.\"\n}\n```",
  "_metadata": {
    "index": 0,
    "total": 0,
    "savedAt": "2025-11-20T00:49:45.003Z"
  }
}