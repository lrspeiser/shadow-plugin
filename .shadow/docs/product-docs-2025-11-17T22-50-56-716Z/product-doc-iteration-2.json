{
  "overview": "Shadow Watch is a Visual Studio Code extension that continuously monitors and analyzes codebases to help developers understand architecture, identify code quality issues, and generate AI-ready documentation. It automatically analyzes code on every save, detecting architectural problems like god objects, circular dependencies, dead code, and overly complex functions. The extension presents findings through an interactive sidebar with severity-based prioritization, allowing developers to click directly to problem locations. Shadow Watch also generates comprehensive product documentation and architecture insights by sending code analysis to AI language models, making it easy to get context-aware help from Cursor, ChatGPT, and other AI assistants with one-click copying of formatted insights.",
  "whatItDoes": [
    "Continuously monitors code and analyzes architecture on every file save",
    "Detects architectural problems including god objects, circular dependencies, and dead code",
    "Calculates overall codebase health scores from 0-100%",
    "Generates AI-ready prompts formatted for Cursor, ChatGPT, and other language models",
    "Creates comprehensive product documentation automatically from codebase analysis",
    "Produces AI-powered architecture insights describing system design and patterns",
    "Provides one-click copying of insights formatted specifically for different AI assistants",
    "Shows severity-based issues (Errors, Warnings, Info) with click-to-navigate functionality",
    "Generates unit test documentation and coverage insights",
    "Supports 9+ programming languages including Python, JavaScript, TypeScript, Java, Go, Rust, C/C++, Ruby, and PHP",
    "Displays real-time analysis results in an organized sidebar with multiple specialized views",
    "Caches analysis results to improve performance and reduce redundant processing",
    "Offers multiple output formats optimized for different AI tools and use cases"
  ],
  "userPerspective": {
    "gui": [
      "Shadow Watch activity bar icon that opens the extension sidebar",
      "Menu view showing main commands and overall codebase health score",
      "Analyze Workspace view displaying full codebase analysis results with expandable categories",
      "Product Navigator view for browsing generated product documentation",
      "AI Architecture Insights view showing AI-generated observations about system design",
      "Unit Tests view displaying test organization and coverage information",
      "Click-to-navigate functionality that jumps directly to code locations with issues",
      "Copy buttons throughout the interface for getting LLM-ready formatted insights",
      "Refresh button to re-run analysis on demand",
      "Settings button to configure analysis behavior and AI integration",
      "Severity indicators (üî¥ Errors, ‚ö†Ô∏è Warnings, üí° Info) showing issue priority",
      "Collapsible tree structure organizing insights by category and type",
      "Status messages showing analysis progress and completion",
      "Health score percentage displayed prominently in the sidebar"
    ],
    "cli": [],
    "api": [],
    "cicd": []
  },
  "workflowIntegration": [
    "Developer writes code and saves file, triggering automatic analysis",
    "Developer reviews architecture issues in sidebar organized by severity",
    "Developer clicks copy button to get formatted insights for AI assistant",
    "Developer pastes insights into Cursor, ChatGPT, or other AI tool to get refactoring help",
    "Developer clicks on specific issues to navigate directly to problem code locations",
    "Developer generates product documentation to share with stakeholders or team members",
    "Developer uses AI architecture insights to understand system design before making changes",
    "Developer checks unit test coverage and organization through dedicated view",
    "Developer clears cache when needing fresh analysis of entire codebase",
    "Developer switches between different LLM output formats depending on which AI tool they're using",
    "Developer monitors health score over time to track code quality improvements",
    "Developer generates AI insights for complex codebases to accelerate onboarding"
  ],
  "problemsSolved": [
    "Eliminates manual effort in identifying architectural problems across large codebases",
    "Reduces time spent understanding unfamiliar code architecture",
    "Provides instant, context-aware information formatted perfectly for AI assistants",
    "Helps prevent technical debt by detecting issues like god objects and circular dependencies early",
    "Makes code reviews more efficient by automatically flagging quality concerns",
    "Accelerates onboarding by generating comprehensive documentation automatically",
    "Enables developers to get AI help with proper context instead of copying code snippets manually",
    "Tracks code health over time with quantified health scores",
    "Identifies dead code that can be safely removed to reduce maintenance burden",
    "Surfaces overly complex functions that need refactoring before they become problems",
    "Maintains documentation automatically as code evolves, keeping it synchronized",
    "Provides severity-based prioritization so developers know what to fix first"
  ],
  "architecture": "Shadow Watch is built as a VSCode extension that integrates deeply with the editor's workspace, file system, and UI components. The core analysis engine performs static code analysis using AST parsing to understand code structure without executing it, building dependency graphs to track import relationships, and applying pattern detection algorithms to identify common anti-patterns and code smells. A caching layer stores analysis results to enable fast incremental updates when individual files change, reducing repeat analysis time significantly while maintaining accuracy.\n\nThe extension operates in continuous monitoring mode, with a file watcher component that triggers analysis whenever files are saved. Analysis results flow through an insight generator that categorizes findings by severity and concern area, a diagnostics provider that surfaces issues in VSCode's native problem panel, and an LLM formatter that transforms insights into optimized prompts for different AI assistants. The UI consists of multiple specialized tree view providers that organize and display different aspects of the analysis: a main menu view, workspace analysis view, product documentation navigator, AI insights viewer, and unit tests navigator.\n\nFor AI-powered features, the extension integrates with language model services through a dedicated LLM integration layer. When users request product documentation or architecture insights, the system sends structured analysis data to AI services using carefully crafted schemas and prompts, then processes responses back into navigable, formatted documentation. The architecture supports both automatic background processing that never blocks editing and on-demand analysis commands for full workspace scans or individual file deep-dives.",
  "titles": [
    "Shadow Watch Extension",
    "Continuous Code Monitoring",
    "Architecture Warnings",
    "LLM-Ready Insights",
    "Product Documentation Generator",
    "AI Architecture Insights",
    "Health Score Calculator",
    "Analyze Workspace",
    "Analyze Current File",
    "Copy for LLM",
    "Menu View",
    "Product Navigator",
    "Unit Tests Navigator",
    "Insights Viewer",
    "Analysis Viewer",
    "File Watcher",
    "Smart Caching",
    "Severity-Based Prioritization",
    "One-Click Copy",
    "Cursor Integration",
    "ChatGPT Integration",
    "God Object Detection",
    "Circular Dependency Detection",
    "Dead Code Identification",
    "Complex Function Alerts",
    "Click-to-Navigate",
    "Background Processing",
    "Multi-Language Support",
    "Static Analysis Engine",
    "Dependency Graphing",
    "Pattern Detection",
    "AST Parsing",
    "Incremental Analysis",
    "Code Health Tracking",
    "Context-Aware Suggestions"
  ],
  "descriptions": [
    {
      "title": "Continuous Code Monitoring",
      "description": "Automatically analyzes code architecture on every file save, providing real-time feedback without requiring manual commands",
      "category": "feature"
    },
    {
      "title": "Architecture Warnings",
      "description": "Detects and alerts on common architectural problems including god objects, circular dependencies, dead code, large files, and overly complex functions",
      "category": "feature"
    },
    {
      "title": "LLM-Ready Insights",
      "description": "Generates formatted insights optimized for different AI assistants with one-click copying, including specific formats for Cursor, ChatGPT, and generic AI tools",
      "category": "feature"
    },
    {
      "title": "Health Score Calculator",
      "description": "Calculates an overall codebase health percentage from 0-100% based on detected issues and code quality metrics",
      "category": "feature"
    },
    {
      "title": "Severity-Based Prioritization",
      "description": "Organizes all findings into three severity levels (Error, Warning, Info) so developers know what to address first",
      "category": "feature"
    },
    {
      "title": "Product Documentation Generator",
      "description": "Automatically generates comprehensive user-facing documentation by analyzing code and using AI to describe what the application does",
      "category": "feature"
    },
    {
      "title": "AI Architecture Insights",
      "description": "Produces AI-powered observations about system architecture, design patterns, component relationships, and technical decisions",
      "category": "feature"
    },
    {
      "title": "Menu View",
      "description": "Main sidebar view showing available commands, overall health score, and quick access to all extension features",
      "category": "component"
    },
    {
      "title": "Analyze Workspace",
      "description": "Full codebase analysis view displaying all detected issues organized by category with expandable sections",
      "category": "component"
    },
    {
      "title": "Product Navigator",
      "description": "Interactive browser for exploring generated product documentation with hierarchical navigation and search",
      "category": "component"
    },
    {
      "title": "Unit Tests Navigator",
      "description": "Specialized view showing test file organization, coverage information, and relationships between tests and code",
      "category": "component"
    },
    {
      "title": "Insights Viewer",
      "description": "Display panel for AI-generated architecture insights with rich formatting and navigation capabilities",
      "category": "component"
    },
    {
      "title": "Click-to-Navigate",
      "description": "Ability to click on any detected issue or insight to jump directly to the relevant code location in the editor",
      "category": "feature"
    },
    {
      "title": "Smart Caching",
      "description": "Intelligent caching system that stores analysis results and reduces repeat analysis time by 80% while keeping data fresh",
      "category": "feature"
    },
    {
      "title": "God Object Detection",
      "description": "Identifies files that have grown too large (typically over 1000 lines) and may need to be broken into smaller, focused modules",
      "category": "feature"
    },
    {
      "title": "Circular Dependency Detection",
      "description": "Finds circular import chains where modules depend on each other in a cycle, suggesting ways to break the dependencies",
      "category": "feature"
    },
    {
      "title": "Dead Code Identification",
      "description": "Locates unused functions, classes, and modules that can be safely removed to reduce maintenance burden",
      "category": "feature"
    },
    {
      "title": "Complex Function Alerts",
      "description": "Flags functions with high cyclomatic complexity or excessive lines that should be refactored for maintainability",
      "category": "feature"
    },
    {
      "title": "Multi-Language Support",
      "description": "Analyzes code in 9+ programming languages including Python, JavaScript, TypeScript, Java, Go, Rust, C/C++, Ruby, and PHP",
      "category": "feature"
    },
    {
      "title": "One-Click Copy",
      "description": "Copy buttons throughout the interface that instantly format and copy insights to clipboard for pasting into AI assistants",
      "category": "feature"
    },
    {
      "title": "Cursor Integration",
      "description": "Special formatting optimized for Cursor AI that provides perfect context for getting refactoring and architecture help",
      "category": "integration"
    },
    {
      "title": "ChatGPT Integration",
      "description": "Verbose output format designed specifically for ChatGPT conversations with detailed explanations and suggestions",
      "category": "integration"
    }
  ],
  "relevantFunctions": [
    {
      "name": "analyzeWorkspace",
      "description": "Performs comprehensive analysis of entire workspace, detecting architectural issues and generating insights",
      "file": "src/extension.ts",
      "module": "extension"
    },
    {
      "name": "analyzeFile",
      "description": "Analyzes a single file in detail, producing targeted insights about that specific code",
      "file": "src/extension.ts",
      "module": "extension"
    },
    {
      "name": "copyInsightsForLLM",
      "description": "Formats and copies all current insights to clipboard in selected LLM format for pasting into AI assistants",
      "file": "src/extension.ts",
      "module": "extension"
    },
    {
      "name": "generateProductDocs",
      "description": "Triggers AI-powered product documentation generation from codebase analysis",
      "file": "src/extension.ts",
      "module": "extension"
    },
    {
      "name": "generateLLMInsights",
      "description": "Generates AI architecture insights by sending code analysis to language model services",
      "file": "src/extension.ts",
      "module": "extension"
    },
    {
      "name": "refreshInsights",
      "description": "Re-runs analysis on entire workspace to update all insights with latest code changes",
      "file": "src/extension.ts",
      "module": "extension"
    },
    {
      "name": "detectGodObjects",
      "description": "Identifies files exceeding size thresholds that indicate potential god object anti-pattern",
      "module": "insightGenerator"
    },
    {
      "name": "findCircularDependencies",
      "description": "Analyzes import graphs to detect circular dependency chains between modules",
      "module": "insightGenerator"
    },
    {
      "name": "calculateHealthScore",
      "description": "Computes overall codebase health percentage based on issue counts and severities",
      "module": "insightGenerator"
    },
    {
      "name": "formatForCursor",
      "description": "Transforms insights into format optimized specifically for Cursor AI assistant",
      "file": "src/llmFormatter.ts",
      "module": "llmFormatter"
    },
    {
      "name": "formatForChatGPT",
      "description": "Converts insights into verbose format designed for ChatGPT conversations",
      "file": "src/llmFormatter.ts",
      "module": "llmFormatter"
    },
    {
      "name": "handleFileChange",
      "description": "Responds to file save events by triggering incremental analysis of changed files",
      "file": "src/fileWatcher.ts",
      "module": "fileWatcher"
    },
    {
      "name": "getCachedAnalysis",
      "description": "Retrieves previously stored analysis results to avoid redundant processing",
      "file": "src/cache.ts",
      "module": "cache"
    },
    {
      "name": "navigateToIssue",
      "description": "Opens editor at specific line and column where an issue was detected",
      "module": "treeProvider"
    },
    {
      "name": "sendToLLM",
      "description": "Sends structured code analysis to AI language model service and processes response",
      "file": "src/llmIntegration.ts",
      "module": "llmIntegration"
    }
  ],
  "relevantDataStructures": [
    {
      "name": "ArchitectureInsight",
      "description": "Individual finding about code architecture with severity, category, description, location, and suggested fix",
      "type": "interface",
      "file": "src/insightGenerator.ts"
    },
    {
      "name": "AnalysisResult",
      "description": "Complete analysis output containing all insights, statistics, health score, and metadata",
      "type": "interface",
      "file": "src/analyzer.ts"
    },
    {
      "name": "TreeItem",
      "description": "Node in the insights tree view representing a category, insight, or actionable item",
      "type": "class",
      "file": "src/insightsTreeView.ts"
    },
    {
      "name": "ProductNavItem",
      "description": "Navigation node in product documentation browser with title, content, and child items",
      "type": "class",
      "file": "src/productNavigator.ts"
    },
    {
      "name": "LLMFormat",
      "description": "Enumeration of supported AI assistant formats (Cursor, ChatGPT, Generic, Compact)",
      "type": "type",
      "file": "src/llmFormatter.ts"
    },
    {
      "name": "CacheEntry",
      "description": "Stored analysis result with timestamp, file hash, and serialized insights for fast retrieval",
      "type": "interface",
      "file": "src/cache.ts"
    },
    {
      "name": "CodebaseStats",
      "description": "Statistical summary including total files, lines of code, language breakdown, and entry points",
      "type": "interface",
      "file": "src/analyzer.ts"
    },
    {
      "name": "DependencyGraph",
      "description": "Graph structure representing import relationships and dependencies between modules",
      "type": "class",
      "file": "src/analyzer.ts"
    },
    {
      "name": "Severity",
      "description": "Issue severity level enumeration (Error, Warning, Info) for prioritizing findings",
      "type": "type",
      "file": "src/insightGenerator.ts"
    },
    {
      "name": "ProductDocumentation",
      "description": "AI-generated product documentation with overview, features, architecture description, and user workflows",
      "type": "interface",
      "file": "src/llmIntegration.ts"
    },
    {
      "name": "UnitTestItem",
      "description": "Node representing a test file, test suite, or individual test case in the tests navigator",
      "type": "class",
      "file": "src/unitTestsNavigator.ts"
    }
  ],
  "relevantCodeFiles": [
    {
      "path": "src/extension.ts",
      "description": "Main extension entry point that activates Shadow Watch and registers all commands, views, and event handlers",
      "purpose": "Initializes the extension, wires up all components, and handles user commands",
      "role": "Entry point and command orchestration"
    },
    {
      "path": "src/analyzer.ts",
      "description": "Core static analysis engine that parses code files, builds dependency graphs, and extracts structural information",
      "purpose": "Performs deep code analysis to understand architecture and relationships",
      "role": "Core analysis logic"
    },
    {
      "path": "src/insightGenerator.ts",
      "description": "Analyzes code structures to detect architectural anti-patterns and generate categorized, severity-based findings",
      "purpose": "Transforms raw analysis data into actionable insights about code quality",
      "role": "Insight generation"
    },
    {
      "path": "src/llmFormatter.ts",
      "description": "Formats insights into different output styles optimized for various AI assistants",
      "purpose": "Transforms insights into AI-ready prompts for Cursor, ChatGPT, and other tools",
      "role": "Output formatting"
    },
    {
      "path": "src/llmIntegration.ts",
      "description": "Integrates with AI language model services to generate product documentation and architecture insights",
      "purpose": "Sends code analysis to AI services and processes responses into structured documentation",
      "role": "AI integration"
    },
    {
      "path": "src/insightsTreeView.ts",
      "description": "Main sidebar tree view that displays menu, commands, and organized insights",
      "purpose": "Provides primary user interface for viewing and interacting with analysis results",
      "role": "GUI component"
    },
    {
      "path": "src/productNavigator.ts",
      "description": "Interactive browser for exploring generated product documentation with hierarchical navigation",
      "purpose": "Allows users to browse and search through AI-generated product documentation",
      "role": "GUI component"
    },
    {
      "path": "src/fileWatcher.ts",
      "description": "Monitors workspace for file changes and triggers incremental analysis automatically",
      "purpose": "Enables continuous monitoring by detecting when code files are saved",
      "role": "Event handling"
    },
    {
      "path": "src/cache.ts",
      "description": "Caching system that stores analysis results with timestamps and file hashes for performance",
      "purpose": "Avoids redundant analysis by retrieving cached results when files haven't changed",
      "role": "Performance optimization"
    },
    {
      "path": "src/diagnosticsProvider.ts",
      "description": "Surfaces detected issues in VSCode's native problems panel for editor integration",
      "purpose": "Shows architecture warnings alongside compiler errors in the problems view",
      "role": "Editor integration"
    }
  ],
  "exampleInput": {
    "description": "Configuration for analyzing a workspace and generating LLM-ready insights",
    "json": "{\"workspacePath\":\"/Users/developer/projects/my-app\",\"analyzeOnSave\":true,\"llmFormat\":\"cursor\",\"severityThreshold\":\"warning\",\"languages\":[\"typescript\",\"python\"],\"excludePatterns\":[\"node_modules\",\"dist\",\"*.test.ts\"],\"maxFileSize\":5000,\"complexityThreshold\":10,\"generateProductDocs\":true,\"aiProvider\":\"openai\",\"includeTests\":true}"
  },
  "exampleOutput": {
    "description": "Analysis results with architecture insights formatted for AI assistant",
    "json": "{\"healthScore\":72,\"totalIssues\":12,\"errors\":2,\"warnings\":7,\"info\":3,\"insights\":[{\"severity\":\"error\",\"category\":\"Code Organization\",\"title\":\"Very Large File\",\"description\":\"src/services/dataProcessor.ts has 1250 lines of code, indicating potential god object\",\"file\":\"src/services/dataProcessor.ts\",\"line\":1,\"suggestion\":\"Break this file into smaller, focused modules. Consider separating data validation, transformation, and persistence logic.\"},{\"severity\":\"warning\",\"category\":\"Dependencies\",\"title\":\"Circular Dependency Detected\",\"description\":\"Circular dependency: models/User.ts ‚Üí utils/validation.ts ‚Üí models/User.ts\",\"files\":[\"models/User.ts\",\"utils/validation.ts\"],\"suggestion\":\"Break this cycle by introducing an interface/abstraction or moving shared logic to a separate module.\"}],\"llmPrompt\":\"# Code Architecture Issues\\n\\nI have 12 architecture issues that need attention:\\n\\n## üî¥ Critical Issues (2 Errors)\\n\\n### Very Large File\\n**Category:** Code Organization\\n**Description:** src/services/dataProcessor.ts has 1250 lines of code...\\n**Suggestion:** Break this file into smaller, focused modules.\\n\\n## ‚ö†Ô∏è Warnings (7)\\n\\n### Circular Dependency Detected\\n**Category:** Dependencies\\n**Description:** Circular dependency chain detected...\\n**Suggestion:** Break this cycle by introducing an interface.\",\"statistics\":{\"totalFiles\":156,\"totalLines\":45230,\"languages\":{\"typescript\":98,\"python\":58},\"largestFile\":\"src/services/dataProcessor.ts\",\"complexFunctions\":15}}"
  },
  "requests": [
    {
      "type": "file",
      "path": "src/insightGenerator.ts",
      "reason": "Need to see how architectural insights are generated and what specific patterns are detected"
    },
    {
      "type": "file",
      "path": "src/llmIntegration.ts",
      "reason": "Need to understand how AI integration works and what gets sent to language models"
    },
    {
      "type": "grep",
      "pattern": "class.*Provider",
      "filePattern": "src/*.ts",
      "maxResults": 10,
      "reason": "Want to identify all the provider classes that create different views"
    }
  ],
  "_metadata": {
    "iteration": 2,
    "maxIterations": 3,
    "savedAt": "2025-11-17T22:53:58.647Z"
  }
}