{
  "module": "src/infrastructure/fileSystem",
  "moduleType": "other",
  "capabilities": [
    "Intelligently caches file contents in memory to avoid redundant disk reads",
    "Automatically invalidates cache when files are modified, created, or deleted",
    "Provides a reusable framework for processing multiple files with built-in filtering",
    "Processes files in parallel for improved performance on large codebases",
    "Automatically excludes common non-source directories from processing",
    "Handles processing errors gracefully without stopping overall operations"
  ],
  "summary": "This module provides high-performance file system operations for the application by combining intelligent caching and efficient batch processing. It dramatically reduces disk I/O by caching file contents in memory and automatically keeping the cache synchronized with file system changes, ensuring that multiple components can access the same files quickly without repeated disk reads.\n\nThe module offers a robust file processing framework that can handle large codebases efficiently. It automatically filters out non-source directories (node_modules, .git, dist, build, .shadow, coverage, .vscode, .idea) and processes multiple files simultaneously using parallel execution. The processing engine is fault-tolerant, logging errors for individual files while continuing to process the remaining files.\n\nUsers benefit from faster application responsiveness when analyzing or working with large projects, as the caching mechanism reduces latency for repeated file access, and the parallel processing capabilities significantly speed up operations that need to read or analyze many files at once. The module handles all the complexity of cache management and parallel execution automatically, requiring no manual intervention.",
  "files": [
    {
      "file": "src/infrastructure/fileSystem/fileCache.ts",
      "role": "Core Logic",
      "purpose": "Caches file contents in memory to reduce redundant disk reads and improve performance when multiple components need the same files",
      "userVisibleActions": [
        "Faster file loading when the same files are accessed multiple times",
        "Automatic updates when files are modified, created, or deleted on disk",
        "Reduced disk activity during operations that read many files",
        "Improved responsiveness when analyzing or processing large codebases"
      ],
      "developerVisibleActions": [
        "Retrieve file contents with automatic caching via getFile()",
        "Cache automatically invalidates when files change on disk",
        "LRU eviction policy removes oldest entries when cache reaches size limit",
        "Track cache performance with hit/miss/eviction statistics",
        "Set cached values directly with setFile()",
        "Clear specific files or entire cache programmatically",
        "Configure maximum cache size and time-to-live (TTL) settings",
        "File hashes verify content hasn't changed before returning cached data"
      ],
      "keyFunctions": [
        {
          "name": "getFile",
          "desc": "Retrieves file content from cache if available and valid, otherwise reads from disk and caches it",
          "inputs": "filePath: string",
          "outputs": "Promise<string> - file content"
        },
        {
          "name": "setFile",
          "desc": "Manually sets a file's cached content and metadata",
          "inputs": "filePath: string, content: string",
          "outputs": "void"
        },
        {
          "name": "invalidate",
          "desc": "Removes a specific file from the cache, forcing next access to read from disk",
          "inputs": "filePath: string",
          "outputs": "void"
        },
        {
          "name": "clear",
          "desc": "Removes all cached files and resets cache statistics",
          "inputs": "none",
          "outputs": "void"
        },
        {
          "name": "getStats",
          "desc": "Returns cache performance metrics including hits, misses, evictions, and total size",
          "inputs": "none",
          "outputs": "CacheStats object"
        },
        {
          "name": "dispose",
          "desc": "Cleans up file system watchers and resources",
          "inputs": "none",
          "outputs": "void"
        }
      ],
      "dependencies": [
        "vscode",
        "fs",
        "path"
      ],
      "intent": "This file exists to optimize file system performance by caching frequently accessed files in memory, preventing redundant disk reads when multiple components need the same file content. It solves the problem of slow file I/O operations by intelligently caching with automatic invalidation when files change, reducing latency and improving overall extension responsiveness.",
      "rawContent": "```json\n{\n  \"purpose\": \"Caches file contents in memory to reduce redundant disk reads and improve performance when multiple components need the same files\",\n  \"userVisibleActions\": [\n    \"Faster file loading when the same files are accessed multiple times\",\n    \"Automatic updates when files are modified, created, or deleted on disk\",\n    \"Reduced disk activity during operations that read many files\",\n    \"Improved responsiveness when analyzing or processing large codebases\"\n  ],\n  \"developerVisibleActions\": [\n    \"Retrieve file contents with automatic caching via getFile()\",\n    \"Cache automatically invalidates when files change on disk\",\n    \"LRU eviction policy removes oldest entries when cache reaches size limit\",\n    \"Track cache performance with hit/miss/eviction statistics\",\n    \"Set cached values directly with setFile()\",\n    \"Clear specific files or entire cache programmatically\",\n    \"Configure maximum cache size and time-to-live (TTL) settings\",\n    \"File hashes verify content hasn't changed before returning cached data\"\n  ],\n  \"keyFunctions\": [\n    {\n      \"name\": \"getFile\",\n      \"desc\": \"Retrieves file content from cache if available and valid, otherwise reads from disk and caches it\",\n      \"inputs\": \"filePath: string\",\n      \"outputs\": \"Promise<string> - file content\"\n    },\n    {\n      \"name\": \"setFile\",\n      \"desc\": \"Manually sets a file's cached content and metadata\",\n      \"inputs\": \"filePath: string, content: string\",\n      \"outputs\": \"void\"\n    },\n    {\n      \"name\": \"invalidate\",\n      \"desc\": \"Removes a specific file from the cache, forcing next access to read from disk\",\n      \"inputs\": \"filePath: string\",\n      \"outputs\": \"void\"\n    },\n    {\n      \"name\": \"clear\",\n      \"desc\": \"Removes all cached files and resets cache statistics\",\n      \"inputs\": \"none\",\n      \"outputs\": \"void\"\n    },\n    {\n      \"name\": \"getStats\",\n      \"desc\": \"Returns cache performance metrics including hits, misses, evictions, and total size\",\n      \"inputs\": \"none\",\n      \"outputs\": \"CacheStats object\"\n    },\n    {\n      \"name\": \"dispose\",\n      \"desc\": \"Cleans up file system watchers and resources\",\n      \"inputs\": \"none\",\n      \"outputs\": \"void\"\n    }\n  ],\n  \"dependencies\": [\n    \"vscode\",\n    \"fs\",\n    \"path\"\n  ],\n  \"intent\": \"This file exists to optimize file system performance by caching frequently accessed files in memory, preventing redundant disk reads when multiple components need the same file content. It solves the problem of slow file I/O operations by intelligently caching with automatic invalidation when files change, reducing latency and improving overall extension responsiveness.\"\n}\n```"
    },
    {
      "file": "src/infrastructure/fileSystem/fileProcessor.ts",
      "role": "Core Logic",
      "purpose": "Consolidates file processing logic across the codebase by providing a reusable framework for filtering, reading, and processing files in parallel or sequentially.",
      "userVisibleActions": [
        "Files are automatically filtered to skip non-source directories like node_modules, .git, dist, build, .shadow, coverage, .vscode, and .idea",
        "Multiple files are processed simultaneously for faster operation",
        "Processing continues even if individual files fail, with errors logged but not stopping the overall operation",
        "File processing can be controlled with custom filters to include or exclude specific file patterns"
      ],
      "developerVisibleActions": [
        "Provides a unified API for processing multiple files with consistent filtering and error handling",
        "Allows developers to inject custom file filters to control which files are processed",
        "Allows developers to inject custom file readers for different file access strategies",
        "Supports both parallel and sequential file processing based on performance needs",
        "Automatically handles file reading and passes content to developer-provided processing functions",
        "Integrates with ErrorHandler to track processing errors with context",
        "Returns processed results in the same order as input files, making results predictable"
      ],
      "keyFunctions": [
        {
          "name": "DefaultFileFilter.shouldProcess",
          "desc": "Determines if a file should be processed based on common skip patterns",
          "inputs": "filePath: string",
          "outputs": "boolean - true if file should be processed"
        },
        {
          "name": "DefaultFileReader.readFile",
          "desc": "Reads file content from disk as UTF-8 text",
          "inputs": "filePath: string",
          "outputs": "Promise<string> - file content"
        },
        {
          "name": "FileProcessor.processFiles",
          "desc": "Processes multiple files in parallel with filtering, reading, and custom processing logic",
          "inputs": "files: string[], processor: (content, filePath) => Promise<T>, context?: ErrorContext",
          "outputs": "Promise<T[]> - array of processed results"
        }
      ],
      "dependencies": [
        "fs",
        "path",
        "../../utils/errorHandler"
      ],
      "intent": "This file exists to eliminate duplicate file processing patterns across the codebase. It solves the problem of inconsistent file filtering, reading, and error handling by providing a single, testable, and reusable file processing framework. It allows developers to focus on the 'what to do with file content' logic while handling the 'how to find, filter, and read files' boilerplate consistently.",
      "rawContent": "```json\n{\n  \"purpose\": \"Consolidates file processing logic across the codebase by providing a reusable framework for filtering, reading, and processing files in parallel or sequentially.\",\n  \"userVisibleActions\": [\n    \"Files are automatically filtered to skip non-source directories like node_modules, .git, dist, build, .shadow, coverage, .vscode, and .idea\",\n    \"Multiple files are processed simultaneously for faster operation\",\n    \"Processing continues even if individual files fail, with errors logged but not stopping the overall operation\",\n    \"File processing can be controlled with custom filters to include or exclude specific file patterns\"\n  ],\n  \"developerVisibleActions\": [\n    \"Provides a unified API for processing multiple files with consistent filtering and error handling\",\n    \"Allows developers to inject custom file filters to control which files are processed\",\n    \"Allows developers to inject custom file readers for different file access strategies\",\n    \"Supports both parallel and sequential file processing based on performance needs\",\n    \"Automatically handles file reading and passes content to developer-provided processing functions\",\n    \"Integrates with ErrorHandler to track processing errors with context\",\n    \"Returns processed results in the same order as input files, making results predictable\"\n  ],\n  \"keyFunctions\": [\n    {\n      \"name\": \"DefaultFileFilter.shouldProcess\",\n      \"desc\": \"Determines if a file should be processed based on common skip patterns\",\n      \"inputs\": \"filePath: string\",\n      \"outputs\": \"boolean - true if file should be processed\"\n    },\n    {\n      \"name\": \"DefaultFileReader.readFile\",\n      \"desc\": \"Reads file content from disk as UTF-8 text\",\n      \"inputs\": \"filePath: string\",\n      \"outputs\": \"Promise<string> - file content\"\n    },\n    {\n      \"name\": \"FileProcessor.processFiles\",\n      \"desc\": \"Processes multiple files in parallel with filtering, reading, and custom processing logic\",\n      \"inputs\": \"files: string[], processor: (content, filePath) => Promise<T>, context?: ErrorContext\",\n      \"outputs\": \"Promise<T[]> - array of processed results\"\n    }\n  ],\n  \"dependencies\": [\n    \"fs\",\n    \"path\",\n    \"../../utils/errorHandler\"\n  ],\n  \"intent\": \"This file exists to eliminate duplicate file processing patterns across the codebase. It solves the problem of inconsistent file filtering, reading, and error handling by providing a single, testable, and reusable file processing framework. It allows developers to focus on the 'what to do with file content' logic while handling the 'how to find, filter, and read files' boilerplate consistently.\"\n}\n```"
    }
  ],
  "endpoints": [],
  "commands": [],
  "workers": [],
  "_metadata": {
    "index": 0,
    "total": 0,
    "savedAt": "2025-11-21T04:27:20.323Z"
  }
}