{
  "module": "src/domain/bootstrap",
  "moduleType": "other",
  "capabilities": [
    "Initialize and activate the VS Code extension with all required components",
    "Register and manage all extension commands for code analysis operations",
    "Set up UI components including status bar, tree views, and diagnostics",
    "Enable automatic file watching for continuous analysis",
    "Provide command palette access to all extension features",
    "Configure multiple sidebar views for insights, reports, and navigation",
    "Manage LLM provider switching and configuration"
  ],
  "summary": "The bootstrap module serves as the initialization and command coordination layer for the code analysis extension. It handles the complete startup sequence when the extension activates in VS Code, setting up all necessary UI components, registering commands, and preparing the extension for user interaction. This module acts as the entry point that transforms the extension from an inactive state to a fully operational code analysis tool.\n\nThe module provides comprehensive command registration covering the entire extension workflow - from analyzing code (workspace-wide or single files) to managing insights, viewing reports, switching between AI providers, and navigating analyzed code structures. Users interact with these commands through the VS Code command palette, context menus, and custom UI elements like tree views and status bars.\n\nThrough this module, users gain access to a complete suite of code analysis capabilities including generating insights, copying analysis results, clearing cached data, viewing detailed reports, managing unit test information, accessing static analysis results, and navigating through their codebase using the product navigator. The module ensures all these features are properly initialized and ready to respond to user actions from the moment the extension activates.",
  "files": [
    {
      "file": "src/domain/bootstrap/commandRegistry.ts",
      "role": "Core Logic",
      "purpose": "Registers and manages all VS Code commands for the code analysis extension, mapping command IDs to their handler functions.",
      "userVisibleActions": [
        "Analyze entire workspace to generate insights",
        "Analyze current file being edited",
        "Copy all analysis insights to clipboard",
        "Copy insights for a specific file",
        "Copy a single insight item",
        "Clear cached analysis data",
        "Clear all extension data",
        "Open extension settings",
        "View latest analysis report",
        "View latest unit test report",
        "Switch between LLM providers (e.g., OpenAI, Anthropic)",
        "View menu structure of analyzed code",
        "Check current LLM provider status",
        "Navigate to specific product/code items",
        "View detailed information about insights",
        "View detailed information about unit tests"
      ],
      "developerVisibleActions": [
        "Commands are registered during extension activation and bound to handler functions",
        "Command handlers interact with analyzer, insight generator, cache, and tree view components",
        "Command registration is centralized for easier maintenance and testing",
        "All command subscriptions are added to context for proper cleanup",
        "Configuration manager is accessed to retrieve user settings during command execution"
      ],
      "keyFunctions": [
        {
          "name": "register",
          "desc": "Registers all VS Code commands with their corresponding handler functions",
          "inputs": "context: vscode.ExtensionContext, components: ExtensionComponents",
          "outputs": "void"
        }
      ],
      "dependencies": [
        "vscode",
        "llmIntegration",
        "CodeAnalyzer",
        "InsightGenerator",
        "LLMFormatter",
        "InsightsTreeProvider",
        "DiagnosticsProvider",
        "AnalysisCache",
        "AnalysisViewerProvider",
        "ProductNavItem",
        "configurationManager",
        "ExtensionComponents"
      ],
      "intent": "This file exists to separate command registration logic from the main extension activation code, providing a clean interface for registering all user-facing commands and making the command structure easier to maintain and test. It solves the problem of command sprawl by centralizing all command definitions and their handlers in one place.",
      "rawContent": "```json\n{\n  \"purpose\": \"Registers and manages all VS Code commands for the code analysis extension, mapping command IDs to their handler functions.\",\n  \"userVisibleActions\": [\n    \"Analyze entire workspace to generate insights\",\n    \"Analyze current file being edited\",\n    \"Copy all analysis insights to clipboard\",\n    \"Copy insights for a specific file\",\n    \"Copy a single insight item\",\n    \"Clear cached analysis data\",\n    \"Clear all extension data\",\n    \"Open extension settings\",\n    \"View latest analysis report\",\n    \"View latest unit test report\",\n    \"Switch between LLM providers (e.g., OpenAI, Anthropic)\",\n    \"View menu structure of analyzed code\",\n    \"Check current LLM provider status\",\n    \"Navigate to specific product/code items\",\n    \"View detailed information about insights\",\n    \"View detailed information about unit tests\"\n  ],\n  \"developerVisibleActions\": [\n    \"Commands are registered during extension activation and bound to handler functions\",\n    \"Command handlers interact with analyzer, insight generator, cache, and tree view components\",\n    \"Command registration is centralized for easier maintenance and testing\",\n    \"All command subscriptions are added to context for proper cleanup\",\n    \"Configuration manager is accessed to retrieve user settings during command execution\"\n  ],\n  \"keyFunctions\": [\n    {\n      \"name\": \"register\",\n      \"desc\": \"Registers all VS Code commands with their corresponding handler functions\",\n      \"inputs\": \"context: vscode.ExtensionContext, components: ExtensionComponents\",\n      \"outputs\": \"void\"\n    }\n  ],\n  \"dependencies\": [\n    \"vscode\",\n    \"llmIntegration\",\n    \"CodeAnalyzer\",\n    \"InsightGenerator\",\n    \"LLMFormatter\",\n    \"InsightsTreeProvider\",\n    \"DiagnosticsProvider\",\n    \"AnalysisCache\",\n    \"AnalysisViewerProvider\",\n    \"ProductNavItem\",\n    \"configurationManager\",\n    \"ExtensionComponents\"\n  ],\n  \"intent\": \"This file exists to separate command registration logic from the main extension activation code, providing a clean interface for registering all user-facing commands and making the command structure easier to maintain and test. It solves the problem of command sprawl by centralizing all command definitions and their handlers in one place.\"\n}\n```"
    },
    {
      "file": "src/domain/bootstrap/extensionBootstrapper.ts",
      "role": "Core Logic",
      "purpose": "Initializes and bootstraps all extension components during VS Code extension activation",
      "userVisibleActions": [
        "Extension activates and becomes ready to use in VS Code",
        "Status bar item appears showing extension status",
        "Multiple tree views become available in the sidebar (Insights, Analysis, Reports, Product Navigator, Unit Tests, Static Analysis)",
        "Code diagnostics and insights start appearing in the editor",
        "File watching begins for automatic analysis on file changes",
        "Commands become available in the command palette for interacting with the extension"
      ],
      "developerVisibleActions": [
        "Call bootstrap function to initialize all extension components during activation",
        "Receive initialized component instances (analyzer, insight generator, formatters, viewers, etc.)",
        "Access centralized extension state through state manager",
        "Configure components through configuration manager",
        "Handle extension lifecycle through bootstrapper setup",
        "Register all tree views, commands, and UI providers automatically",
        "Set up error handling and caching mechanisms"
      ],
      "keyFunctions": [
        {
          "name": "bootstrap",
          "desc": "Main entry point that initializes all extension components and wires them together",
          "inputs": "vscode.ExtensionContext - VS Code extension context for registration",
          "outputs": "ExtensionComponents - Object containing all initialized component instances"
        },
        {
          "name": "ExtensionComponents interface",
          "desc": "Defines the structure of all components that make up the extension",
          "inputs": "N/A - Type definition",
          "outputs": "Type containing analyzer, generators, viewers, providers, cache, status bar, and tree views"
        }
      ],
      "dependencies": [
        "vscode",
        "CodeAnalyzer",
        "InsightGenerator",
        "LLMFormatter",
        "FileWatcher",
        "InsightsTreeProvider",
        "DiagnosticsProvider",
        "AnalysisCache",
        "llmIntegration",
        "ProductNavigatorProvider",
        "AnalysisViewerProvider",
        "InsightsViewerProvider",
        "StaticAnalysisViewerProvider",
        "UnitTestsNavigatorProvider",
        "configurationManager",
        "ErrorHandler",
        "FileWatcherService",
        "ReportsViewer",
        "ReportsTreeProvider",
        "llmStateManager"
      ],
      "intent": "This file exists to centralize and organize the complex initialization sequence of all extension components. It solves the problem of scattered initialization logic by providing a single bootstrap function that creates all components in the correct order, wires dependencies between them, and returns a structured object for use by the main extension. This separation makes the extension more maintainable and testable by isolating activation logic from the main extension entry point.",
      "rawContent": "```json\n{\n  \"purpose\": \"Initializes and bootstraps all extension components during VS Code extension activation\",\n  \"userVisibleActions\": [\n    \"Extension activates and becomes ready to use in VS Code\",\n    \"Status bar item appears showing extension status\",\n    \"Multiple tree views become available in the sidebar (Insights, Analysis, Reports, Product Navigator, Unit Tests, Static Analysis)\",\n    \"Code diagnostics and insights start appearing in the editor\",\n    \"File watching begins for automatic analysis on file changes\",\n    \"Commands become available in the command palette for interacting with the extension\"\n  ],\n  \"developerVisibleActions\": [\n    \"Call bootstrap function to initialize all extension components during activation\",\n    \"Receive initialized component instances (analyzer, insight generator, formatters, viewers, etc.)\",\n    \"Access centralized extension state through state manager\",\n    \"Configure components through configuration manager\",\n    \"Handle extension lifecycle through bootstrapper setup\",\n    \"Register all tree views, commands, and UI providers automatically\",\n    \"Set up error handling and caching mechanisms\"\n  ],\n  \"keyFunctions\": [\n    {\n      \"name\": \"bootstrap\",\n      \"desc\": \"Main entry point that initializes all extension components and wires them together\",\n      \"inputs\": \"vscode.ExtensionContext - VS Code extension context for registration\",\n      \"outputs\": \"ExtensionComponents - Object containing all initialized component instances\"\n    },\n    {\n      \"name\": \"ExtensionComponents interface\",\n      \"desc\": \"Defines the structure of all components that make up the extension\",\n      \"inputs\": \"N/A - Type definition\",\n      \"outputs\": \"Type containing analyzer, generators, viewers, providers, cache, status bar, and tree views\"\n    }\n  ],\n  \"dependencies\": [\n    \"vscode\",\n    \"CodeAnalyzer\",\n    \"InsightGenerator\",\n    \"LLMFormatter\",\n    \"FileWatcher\",\n    \"InsightsTreeProvider\",\n    \"DiagnosticsProvider\",\n    \"AnalysisCache\",\n    \"llmIntegration\",\n    \"ProductNavigatorProvider\",\n    \"AnalysisViewerProvider\",\n    \"InsightsViewerProvider\",\n    \"StaticAnalysisViewerProvider\",\n    \"UnitTestsNavigatorProvider\",\n    \"configurationManager\",\n    \"ErrorHandler\",\n    \"FileWatcherService\",\n    \"ReportsViewer\",\n    \"ReportsTreeProvider\",\n    \"llmStateManager\"\n  ],\n  \"intent\": \"This file exists to centralize and organize the complex initialization sequence of all extension components. It solves the problem of scattered initialization logic by providing a single bootstrap function that creates all components in the correct order, wires dependencies between them, and returns a structured object for use by the main extension. This separation makes the extension more maintainable and testable by isolating activation logic from the main extension entry point.\"\n}\n```"
    }
  ],
  "endpoints": [],
  "commands": [
    {
      "command": "analyzeWorkspace",
      "description": "Analyze the entire workspace to generate comprehensive code insights"
    },
    {
      "command": "analyzeCurrentFile",
      "description": "Analyze only the currently active file in the editor"
    },
    {
      "command": "copyAllInsights",
      "description": "Copy all generated analysis insights to the clipboard"
    },
    {
      "command": "copyFileInsights",
      "description": "Copy insights for a specific file to the clipboard"
    },
    {
      "command": "copyInsightItem",
      "description": "Copy a single insight item to the clipboard"
    },
    {
      "command": "clearCache",
      "description": "Clear cached analysis data to force fresh analysis"
    },
    {
      "command": "clearAllData",
      "description": "Clear all extension data including cache and settings"
    },
    {
      "command": "openSettings",
      "description": "Open the extension settings panel"
    },
    {
      "command": "viewAnalysisReport",
      "description": "View the latest analysis report"
    },
    {
      "command": "viewUnitTestReport",
      "description": "View the latest unit test report"
    },
    {
      "command": "switchLLMProvider",
      "description": "Switch between different LLM providers (OpenAI, Anthropic, etc.)"
    },
    {
      "command": "viewMenuStructure",
      "description": "View the menu structure of the analyzed codebase"
    },
    {
      "command": "checkProviderStatus",
      "description": "Check the current status of the active LLM provider"
    },
    {
      "command": "navigateToItem",
      "description": "Navigate to a specific product or code item in the codebase"
    },
    {
      "command": "viewInsightDetails",
      "description": "View detailed information about a specific insight"
    },
    {
      "command": "viewUnitTestDetails",
      "description": "View detailed information about unit tests"
    }
  ],
  "workers": [],
  "_metadata": {
    "index": 0,
    "total": 0,
    "savedAt": "2025-11-21T04:26:01.093Z"
  }
}