{
  "file": "src/llmSchemas.ts",
  "role": "Core Logic",
  "purpose": "Defines JSON schemas that structure LLM responses to ensure valid, parseable output for product analysis, code health assessment, and documentation generation.",
  "userVisibleActions": [
    "Receives structured analysis of product purpose and user goals",
    "Gets organized lists of code health issues with clear titles and descriptions",
    "Sees categorized architectural problems and design decisions",
    "Receives formatted proposed fixes for identified issues",
    "Gets structured documentation with sections for behaviors, functions, and dependencies"
  ],
  "developerVisibleActions": [
    "Sends codebase information to LLM and receives guaranteed JSON structure back",
    "Uses schemas to validate LLM responses match expected format",
    "Relies on schema enforcement to avoid manual parsing of LLM output",
    "Gets predictable data structures for product purpose analysis including architecture rationale and user goals",
    "Receives code health issues with required fields: title, description, relevant files, functions, and severity",
    "Obtains structured file analysis with purpose, user/developer-facing actions, key functions, and dependencies"
  ],
  "keyFunctions": [
    {
      "name": "productPurposeAnalysisSchema",
      "desc": "Schema ensuring LLM returns structured product purpose analysis",
      "inputs": "Used by LLM to structure response",
      "outputs": "Object with productPurpose, architectureRationale, designDecisions, userGoals, contextualFactors"
    },
    {
      "name": "issueItemSchema",
      "desc": "Schema defining structure for individual code health issues",
      "inputs": "Nested within other schemas",
      "outputs": "Object with title, description, relevantFiles, relevantFunctions, severity, priority"
    },
    {
      "name": "codeHealthAnalysisSchema",
      "desc": "Schema ensuring LLM returns organized list of code health problems",
      "inputs": "Used by LLM to structure code analysis response",
      "outputs": "Object with issues array containing structured problem reports"
    },
    {
      "name": "fileAnalysisSchema",
      "desc": "Schema ensuring LLM returns structured file documentation",
      "inputs": "Used by LLM to structure file analysis response",
      "outputs": "Object with purpose, userVisibleActions, developerVisibleActions, keyFunctions, dependencies, intent"
    }
  ],
  "dependencies": [],
  "intent": "Eliminates unreliable LLM response parsing by enforcing strict JSON schemas that guarantee valid, structured output for product analysis, code health assessment, and documentation generation tasks.",
  "rawContent": "```json\n{\n  \"purpose\": \"Defines JSON schemas that structure LLM responses to ensure valid, parseable output for product analysis, code health assessment, and documentation generation.\",\n  \"userVisibleActions\": [\n    \"Receives structured analysis of product purpose and user goals\",\n    \"Gets organized lists of code health issues with clear titles and descriptions\",\n    \"Sees categorized architectural problems and design decisions\",\n    \"Receives formatted proposed fixes for identified issues\",\n    \"Gets structured documentation with sections for behaviors, functions, and dependencies\"\n  ],\n  \"developerVisibleActions\": [\n    \"Sends codebase information to LLM and receives guaranteed JSON structure back\",\n    \"Uses schemas to validate LLM responses match expected format\",\n    \"Relies on schema enforcement to avoid manual parsing of LLM output\",\n    \"Gets predictable data structures for product purpose analysis including architecture rationale and user goals\",\n    \"Receives code health issues with required fields: title, description, relevant files, functions, and severity\",\n    \"Obtains structured file analysis with purpose, user/developer-facing actions, key functions, and dependencies\"\n  ],\n  \"keyFunctions\": [\n    {\n      \"name\": \"productPurposeAnalysisSchema\",\n      \"desc\": \"Schema ensuring LLM returns structured product purpose analysis\",\n      \"inputs\": \"Used by LLM to structure response\",\n      \"outputs\": \"Object with productPurpose, architectureRationale, designDecisions, userGoals, contextualFactors\"\n    },\n    {\n      \"name\": \"issueItemSchema\",\n      \"desc\": \"Schema defining structure for individual code health issues\",\n      \"inputs\": \"Nested within other schemas\",\n      \"outputs\": \"Object with title, description, relevantFiles, relevantFunctions, severity, priority\"\n    },\n    {\n      \"name\": \"codeHealthAnalysisSchema\",\n      \"desc\": \"Schema ensuring LLM returns organized list of code health problems\",\n      \"inputs\": \"Used by LLM to structure code analysis response\",\n      \"outputs\": \"Object with issues array containing structured problem reports\"\n    },\n    {\n      \"name\": \"fileAnalysisSchema\",\n      \"desc\": \"Schema ensuring LLM returns structured file documentation\",\n      \"inputs\": \"Used by LLM to structure file analysis response\",\n      \"outputs\": \"Object with purpose, userVisibleActions, developerVisibleActions, keyFunctions, dependencies, intent\"\n    }\n  ],\n  \"dependencies\": [],\n  \"intent\": \"Eliminates unreliable LLM response parsing by enforcing strict JSON schemas that guarantee valid, structured output for product analysis, code health assessment, and documentation generation tasks.\"\n}\n```",
  "_metadata": {
    "index": 0,
    "total": 0,
    "savedAt": "2025-11-21T04:23:59.427Z"
  }
}