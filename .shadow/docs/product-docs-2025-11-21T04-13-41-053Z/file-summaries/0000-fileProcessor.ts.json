{
  "file": "src/infrastructure/fileSystem/fileProcessor.ts",
  "role": "Core Logic",
  "purpose": "Consolidates file processing logic across the codebase by providing a reusable framework for filtering, reading, and processing files in parallel or sequentially.",
  "userVisibleActions": [
    "Files are automatically filtered to skip non-source directories like node_modules, .git, dist, build, .shadow, coverage, .vscode, and .idea",
    "Multiple files are processed simultaneously for faster operation",
    "Processing continues even if individual files fail, with errors logged but not stopping the overall operation",
    "File processing can be controlled with custom filters to include or exclude specific file patterns"
  ],
  "developerVisibleActions": [
    "Provides a unified API for processing multiple files with consistent filtering and error handling",
    "Allows developers to inject custom file filters to control which files are processed",
    "Allows developers to inject custom file readers for different file access strategies",
    "Supports both parallel and sequential file processing based on performance needs",
    "Automatically handles file reading and passes content to developer-provided processing functions",
    "Integrates with ErrorHandler to track processing errors with context",
    "Returns processed results in the same order as input files, making results predictable"
  ],
  "keyFunctions": [
    {
      "name": "DefaultFileFilter.shouldProcess",
      "desc": "Determines if a file should be processed based on common skip patterns",
      "inputs": "filePath: string",
      "outputs": "boolean - true if file should be processed"
    },
    {
      "name": "DefaultFileReader.readFile",
      "desc": "Reads file content from disk as UTF-8 text",
      "inputs": "filePath: string",
      "outputs": "Promise<string> - file content"
    },
    {
      "name": "FileProcessor.processFiles",
      "desc": "Processes multiple files in parallel with filtering, reading, and custom processing logic",
      "inputs": "files: string[], processor: (content, filePath) => Promise<T>, context?: ErrorContext",
      "outputs": "Promise<T[]> - array of processed results"
    }
  ],
  "dependencies": [
    "fs",
    "path",
    "../../utils/errorHandler"
  ],
  "intent": "This file exists to eliminate duplicate file processing patterns across the codebase. It solves the problem of inconsistent file filtering, reading, and error handling by providing a single, testable, and reusable file processing framework. It allows developers to focus on the 'what to do with file content' logic while handling the 'how to find, filter, and read files' boilerplate consistently.",
  "rawContent": "```json\n{\n  \"purpose\": \"Consolidates file processing logic across the codebase by providing a reusable framework for filtering, reading, and processing files in parallel or sequentially.\",\n  \"userVisibleActions\": [\n    \"Files are automatically filtered to skip non-source directories like node_modules, .git, dist, build, .shadow, coverage, .vscode, and .idea\",\n    \"Multiple files are processed simultaneously for faster operation\",\n    \"Processing continues even if individual files fail, with errors logged but not stopping the overall operation\",\n    \"File processing can be controlled with custom filters to include or exclude specific file patterns\"\n  ],\n  \"developerVisibleActions\": [\n    \"Provides a unified API for processing multiple files with consistent filtering and error handling\",\n    \"Allows developers to inject custom file filters to control which files are processed\",\n    \"Allows developers to inject custom file readers for different file access strategies\",\n    \"Supports both parallel and sequential file processing based on performance needs\",\n    \"Automatically handles file reading and passes content to developer-provided processing functions\",\n    \"Integrates with ErrorHandler to track processing errors with context\",\n    \"Returns processed results in the same order as input files, making results predictable\"\n  ],\n  \"keyFunctions\": [\n    {\n      \"name\": \"DefaultFileFilter.shouldProcess\",\n      \"desc\": \"Determines if a file should be processed based on common skip patterns\",\n      \"inputs\": \"filePath: string\",\n      \"outputs\": \"boolean - true if file should be processed\"\n    },\n    {\n      \"name\": \"DefaultFileReader.readFile\",\n      \"desc\": \"Reads file content from disk as UTF-8 text\",\n      \"inputs\": \"filePath: string\",\n      \"outputs\": \"Promise<string> - file content\"\n    },\n    {\n      \"name\": \"FileProcessor.processFiles\",\n      \"desc\": \"Processes multiple files in parallel with filtering, reading, and custom processing logic\",\n      \"inputs\": \"files: string[], processor: (content, filePath) => Promise<T>, context?: ErrorContext\",\n      \"outputs\": \"Promise<T[]> - array of processed results\"\n    }\n  ],\n  \"dependencies\": [\n    \"fs\",\n    \"path\",\n    \"../../utils/errorHandler\"\n  ],\n  \"intent\": \"This file exists to eliminate duplicate file processing patterns across the codebase. It solves the problem of inconsistent file filtering, reading, and error handling by providing a single, testable, and reusable file processing framework. It allows developers to focus on the 'what to do with file content' logic while handling the 'how to find, filter, and read files' boilerplate consistently.\"\n}\n```",
  "_metadata": {
    "index": 0,
    "total": 0,
    "savedAt": "2025-11-21T04:21:48.816Z"
  }
}