{
  "file": "src/config/configurationManager.ts",
  "role": "Core Logic",
  "purpose": "Manages all Shadow Watch extension settings with type-safe access and automatic change detection",
  "userVisibleActions": [
    "Extension behavior changes when user modifies settings in VS Code preferences",
    "Analysis triggers automatically on save if analyzeOnSave is enabled",
    "Inline hints appear in editor based on showInlineHints setting",
    "Analysis respects configured timeout limits",
    "Diagnostic severity threshold filters which issues are shown",
    "LLM provider (OpenAI/Claude) determines which AI service is used",
    "Output format controls how analysis results are displayed"
  ],
  "developerVisibleActions": [
    "Provides centralized access to all extension configuration values",
    "Automatically reloads configuration when VS Code settings change",
    "Notifies registered listeners when configuration updates occur",
    "Validates configuration settings and returns validation errors",
    "Exposes typed getters for each configuration property",
    "Handles missing configuration values with sensible defaults",
    "Manages LLM provider selection (OpenAI vs Claude)",
    "Controls analysis behavior through boolean flags"
  ],
  "keyFunctions": [
    {
      "name": "constructor",
      "desc": "Initializes configuration manager and sets up change watcher",
      "inputs": "none",
      "outputs": "ConfigurationManager instance"
    },
    {
      "name": "setupWatcher",
      "desc": "Monitors VS Code settings changes and triggers listener callbacks",
      "inputs": "none",
      "outputs": "void"
    },
    {
      "name": "onConfigurationChange",
      "desc": "Registers callback to be invoked when configuration changes",
      "inputs": "callback function",
      "outputs": "void"
    },
    {
      "name": "removeConfigurationChangeListener",
      "desc": "Unregisters a configuration change callback",
      "inputs": "callback function",
      "outputs": "void"
    },
    {
      "name": "enabled (getter)",
      "desc": "Returns whether Shadow Watch extension is enabled",
      "inputs": "none",
      "outputs": "boolean"
    },
    {
      "name": "analyzeOnSave (getter)",
      "desc": "Returns whether to automatically analyze files on save",
      "inputs": "none",
      "outputs": "boolean"
    },
    {
      "name": "showInlineHints (getter)",
      "desc": "Returns whether to display inline hints in editor",
      "inputs": "none",
      "outputs": "boolean"
    },
    {
      "name": "llmProvider (getter)",
      "desc": "Returns configured LLM provider (openai or claude)",
      "inputs": "none",
      "outputs": "LLMProvider"
    },
    {
      "name": "llmFormat (getter)",
      "desc": "Returns output format for LLM responses",
      "inputs": "none",
      "outputs": "LLMFormat"
    },
    {
      "name": "severityThreshold (getter)",
      "desc": "Returns minimum severity level for displaying diagnostics",
      "inputs": "none",
      "outputs": "SeverityThreshold"
    },
    {
      "name": "validate",
      "desc": "Validates current configuration and returns errors if any",
      "inputs": "none",
      "outputs": "ConfigValidationResult"
    }
  ],
  "dependencies": [
    "vscode"
  ],
  "intent": "Provides a single source of truth for all extension settings, ensuring type safety, automatic updates when settings change, and consistent access to configuration values throughout the extension. Eliminates direct workspace.getConfiguration calls scattered across the codebase and ensures all components react to setting changes uniformly.",
  "rawContent": "```json\n{\n  \"purpose\": \"Manages all Shadow Watch extension settings with type-safe access and automatic change detection\",\n  \"userVisibleActions\": [\n    \"Extension behavior changes when user modifies settings in VS Code preferences\",\n    \"Analysis triggers automatically on save if analyzeOnSave is enabled\",\n    \"Inline hints appear in editor based on showInlineHints setting\",\n    \"Analysis respects configured timeout limits\",\n    \"Diagnostic severity threshold filters which issues are shown\",\n    \"LLM provider (OpenAI/Claude) determines which AI service is used\",\n    \"Output format controls how analysis results are displayed\"\n  ],\n  \"developerVisibleActions\": [\n    \"Provides centralized access to all extension configuration values\",\n    \"Automatically reloads configuration when VS Code settings change\",\n    \"Notifies registered listeners when configuration updates occur\",\n    \"Validates configuration settings and returns validation errors\",\n    \"Exposes typed getters for each configuration property\",\n    \"Handles missing configuration values with sensible defaults\",\n    \"Manages LLM provider selection (OpenAI vs Claude)\",\n    \"Controls analysis behavior through boolean flags\"\n  ],\n  \"keyFunctions\": [\n    {\n      \"name\": \"constructor\",\n      \"desc\": \"Initializes configuration manager and sets up change watcher\",\n      \"inputs\": \"none\",\n      \"outputs\": \"ConfigurationManager instance\"\n    },\n    {\n      \"name\": \"setupWatcher\",\n      \"desc\": \"Monitors VS Code settings changes and triggers listener callbacks\",\n      \"inputs\": \"none\",\n      \"outputs\": \"void\"\n    },\n    {\n      \"name\": \"onConfigurationChange\",\n      \"desc\": \"Registers callback to be invoked when configuration changes\",\n      \"inputs\": \"callback function\",\n      \"outputs\": \"void\"\n    },\n    {\n      \"name\": \"removeConfigurationChangeListener\",\n      \"desc\": \"Unregisters a configuration change callback\",\n      \"inputs\": \"callback function\",\n      \"outputs\": \"void\"\n    },\n    {\n      \"name\": \"enabled (getter)\",\n      \"desc\": \"Returns whether Shadow Watch extension is enabled\",\n      \"inputs\": \"none\",\n      \"outputs\": \"boolean\"\n    },\n    {\n      \"name\": \"analyzeOnSave (getter)\",\n      \"desc\": \"Returns whether to automatically analyze files on save\",\n      \"inputs\": \"none\",\n      \"outputs\": \"boolean\"\n    },\n    {\n      \"name\": \"showInlineHints (getter)\",\n      \"desc\": \"Returns whether to display inline hints in editor\",\n      \"inputs\": \"none\",\n      \"outputs\": \"boolean\"\n    },\n    {\n      \"name\": \"llmProvider (getter)\",\n      \"desc\": \"Returns configured LLM provider (openai or claude)\",\n      \"inputs\": \"none\",\n      \"outputs\": \"LLMProvider\"\n    },\n    {\n      \"name\": \"llmFormat (getter)\",\n      \"desc\": \"Returns output format for LLM responses\",\n      \"inputs\": \"none\",\n      \"outputs\": \"LLMFormat\"\n    },\n    {\n      \"name\": \"severityThreshold (getter)\",\n      \"desc\": \"Returns minimum severity level for displaying diagnostics\",\n      \"inputs\": \"none\",\n      \"outputs\": \"SeverityThreshold\"\n    },\n    {\n      \"name\": \"validate\",\n      \"desc\": \"Validates current configuration and returns errors if any\",\n      \"inputs\": \"none\",\n      \"outputs\": \"ConfigValidationResult\"\n    }\n  ],\n  \"dependencies\": [\n    \"vscode\"\n  ],\n  \"intent\": \"Provides a single source of truth for all extension settings, ensuring type safety, automatic updates when settings change, and consistent access to configuration values throughout the extension. Eliminates direct workspace.getConfiguration calls scattered across the codebase and ensures all components react to setting changes uniformly.\"\n}\n```",
  "_metadata": {
    "index": 0,
    "total": 0,
    "savedAt": "2025-11-21T04:16:30.514Z"
  }
}