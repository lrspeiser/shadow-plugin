{
  "file": "src/ai/llmRetryHandler.ts",
  "role": "Core Logic",
  "purpose": "Handles automatic retries of failed LLM API requests with exponential backoff and intelligent error classification",
  "userVisibleActions": [
    "When LLM API requests fail temporarily, they automatically retry without user intervention",
    "Users experience fewer failures from rate limits, timeouts, and temporary network issues",
    "Failed requests wait progressively longer between retries to avoid overwhelming the API",
    "Non-recoverable errors fail immediately instead of wasting time retrying"
  ],
  "developerVisibleActions": [
    "Wrap any LLM API call with retry logic to handle transient failures automatically",
    "Configure retry behavior (max attempts, delays, backoff multiplier)",
    "Specify which error types should trigger retries vs fail immediately",
    "Receive callbacks on each retry attempt to log or monitor retry behavior",
    "Get final result with total number of attempts made"
  ],
  "keyFunctions": [
    {
      "name": "executeWithRetry",
      "desc": "Executes an async operation with automatic retry logic and exponential backoff",
      "inputs": "operation function that returns a Promise, optional retry configuration (maxRetries, delays, error types, callback)",
      "outputs": "Promise resolving to operation result along with number of attempts made"
    },
    {
      "name": "isRetryableError",
      "desc": "Determines if an error should trigger a retry or fail immediately",
      "inputs": "error object, list of retryable error patterns",
      "outputs": "boolean indicating whether the error is retryable"
    }
  ],
  "dependencies": [],
  "intent": "Improves reliability and user experience when interacting with LLM APIs by automatically handling transient failures (rate limits, timeouts, network issues) through intelligent retry logic, preventing unnecessary failures while avoiding infinite retry loops on permanent errors",
  "rawContent": "```json\n{\n  \"purpose\": \"Handles automatic retries of failed LLM API requests with exponential backoff and intelligent error classification\",\n  \"userVisibleActions\": [\n    \"When LLM API requests fail temporarily, they automatically retry without user intervention\",\n    \"Users experience fewer failures from rate limits, timeouts, and temporary network issues\",\n    \"Failed requests wait progressively longer between retries to avoid overwhelming the API\",\n    \"Non-recoverable errors fail immediately instead of wasting time retrying\"\n  ],\n  \"developerVisibleActions\": [\n    \"Wrap any LLM API call with retry logic to handle transient failures automatically\",\n    \"Configure retry behavior (max attempts, delays, backoff multiplier)\",\n    \"Specify which error types should trigger retries vs fail immediately\",\n    \"Receive callbacks on each retry attempt to log or monitor retry behavior\",\n    \"Get final result with total number of attempts made\"\n  ],\n  \"keyFunctions\": [\n    {\n      \"name\": \"executeWithRetry\",\n      \"desc\": \"Executes an async operation with automatic retry logic and exponential backoff\",\n      \"inputs\": \"operation function that returns a Promise, optional retry configuration (maxRetries, delays, error types, callback)\",\n      \"outputs\": \"Promise resolving to operation result along with number of attempts made\"\n    },\n    {\n      \"name\": \"isRetryableError\",\n      \"desc\": \"Determines if an error should trigger a retry or fail immediately\",\n      \"inputs\": \"error object, list of retryable error patterns\",\n      \"outputs\": \"boolean indicating whether the error is retryable\"\n    }\n  ],\n  \"dependencies\": [],\n  \"intent\": \"Improves reliability and user experience when interacting with LLM APIs by automatically handling transient failures (rate limits, timeouts, network issues) through intelligent retry logic, preventing unnecessary failures while avoiding infinite retry loops on permanent errors\"\n}\n```",
  "_metadata": {
    "index": 0,
    "total": 0,
    "savedAt": "2025-11-21T04:14:17.224Z"
  }
}