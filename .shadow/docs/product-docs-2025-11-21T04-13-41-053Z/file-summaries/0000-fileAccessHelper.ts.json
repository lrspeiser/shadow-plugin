{
  "file": "src/fileAccessHelper.ts",
  "role": "Core Logic",
  "purpose": "Provides file reading and grep search functionality to enable LLM agents to iteratively explore and analyze codebases",
  "userVisibleActions": [
    "LLM agent can request to read specific files from the workspace",
    "LLM agent can search across files using grep patterns to find code",
    "Search results show matching lines with surrounding context",
    "File listings show organized folder structure with file metadata",
    "Results are limited to prevent overwhelming responses"
  ],
  "developerVisibleActions": [
    "Developer provides workspace root path to initialize helper",
    "Developer receives structured file content with line counts",
    "Developer gets grep search results with file, line number, and context",
    "Developer can filter searches by file patterns (e.g., '*.ts', 'src/**/*.ts')",
    "Developer can limit maximum number of search results returned",
    "Developer sees organized file listings grouped by folder with depth sorting"
  ],
  "keyFunctions": [
    {
      "name": "getFileListing",
      "desc": "Organizes and formats a list of files grouped by folder with metadata",
      "inputs": "Array of file objects with path, lines, and language",
      "outputs": "Formatted string showing folder-organized file structure"
    },
    {
      "name": "readFile",
      "desc": "Reads a file from the workspace and returns its content with metadata",
      "inputs": "FileRequest with file path and optional reason",
      "outputs": "FileResponse with content, line count, and existence status"
    },
    {
      "name": "grep",
      "desc": "Searches files for pattern matches and returns results with context",
      "inputs": "GrepRequest with pattern, optional file pattern filter, max results, and reason",
      "outputs": "GrepResponse with matches including file, line number, content, and context lines"
    },
    {
      "name": "processLLMRequest",
      "desc": "Routes LLM file or grep requests to appropriate handler",
      "inputs": "LLMRequest (either FileRequest or GrepRequest)",
      "outputs": "Either FileResponse or GrepResponse based on request type"
    }
  ],
  "dependencies": [
    "fs",
    "path"
  ],
  "intent": "This file exists to enable LLM agents to dynamically explore codebases through file reading and pattern searching, supporting iterative analysis workflows where the agent discovers what files to examine based on previous results rather than receiving all code upfront",
  "rawContent": "```json\n{\n  \"purpose\": \"Provides file reading and grep search functionality to enable LLM agents to iteratively explore and analyze codebases\",\n  \"userVisibleActions\": [\n    \"LLM agent can request to read specific files from the workspace\",\n    \"LLM agent can search across files using grep patterns to find code\",\n    \"Search results show matching lines with surrounding context\",\n    \"File listings show organized folder structure with file metadata\",\n    \"Results are limited to prevent overwhelming responses\"\n  ],\n  \"developerVisibleActions\": [\n    \"Developer provides workspace root path to initialize helper\",\n    \"Developer receives structured file content with line counts\",\n    \"Developer gets grep search results with file, line number, and context\",\n    \"Developer can filter searches by file patterns (e.g., '*.ts', 'src/**/*.ts')\",\n    \"Developer can limit maximum number of search results returned\",\n    \"Developer sees organized file listings grouped by folder with depth sorting\"\n  ],\n  \"keyFunctions\": [\n    {\n      \"name\": \"getFileListing\",\n      \"desc\": \"Organizes and formats a list of files grouped by folder with metadata\",\n      \"inputs\": \"Array of file objects with path, lines, and language\",\n      \"outputs\": \"Formatted string showing folder-organized file structure\"\n    },\n    {\n      \"name\": \"readFile\",\n      \"desc\": \"Reads a file from the workspace and returns its content with metadata\",\n      \"inputs\": \"FileRequest with file path and optional reason\",\n      \"outputs\": \"FileResponse with content, line count, and existence status\"\n    },\n    {\n      \"name\": \"grep\",\n      \"desc\": \"Searches files for pattern matches and returns results with context\",\n      \"inputs\": \"GrepRequest with pattern, optional file pattern filter, max results, and reason\",\n      \"outputs\": \"GrepResponse with matches including file, line number, content, and context lines\"\n    },\n    {\n      \"name\": \"processLLMRequest\",\n      \"desc\": \"Routes LLM file or grep requests to appropriate handler\",\n      \"inputs\": \"LLMRequest (either FileRequest or GrepRequest)\",\n      \"outputs\": \"Either FileResponse or GrepResponse based on request type\"\n    }\n  ],\n  \"dependencies\": [\n    \"fs\",\n    \"path\"\n  ],\n  \"intent\": \"This file exists to enable LLM agents to dynamically explore codebases through file reading and pattern searching, supporting iterative analysis workflows where the agent discovers what files to examine based on previous results rather than receiving all code upfront\"\n}\n```",
  "_metadata": {
    "index": 0,
    "total": 0,
    "savedAt": "2025-11-21T04:21:00.661Z"
  }
}