{
  "file": "src/ai/providers/anthropicProvider.ts",
  "role": "Core Logic",
  "purpose": "Integrates Anthropic's Claude AI models to provide language model capabilities for code analysis and generation within the extension.",
  "userVisibleActions": [
    "Sends prompts to Claude AI and receives intelligent responses for code-related tasks",
    "Receives structured JSON responses from Claude for data extraction tasks",
    "Experiences Claude AI-powered features like code explanation, refactoring suggestions, and documentation generation",
    "Gets error messages when Claude API key is not configured"
  ],
  "developerVisibleActions": [
    "Configures Claude API key through configuration manager to enable the provider",
    "Sends requests with custom system prompts, conversation history, and model selection",
    "Receives structured or unstructured responses from Claude models",
    "Handles token usage statistics and response metadata",
    "Catches and handles API errors including rate limits, authentication failures, and invalid requests",
    "Uses 'claude-sonnet-4-5' as the default model with 8192 max tokens",
    "Converts OpenAI message format to Claude's format automatically",
    "Extracts JSON from text responses when structured output is requested"
  ],
  "keyFunctions": [
    {
      "name": "isConfigured",
      "desc": "Checks if Claude API key is set up and provider is ready to use",
      "inputs": "none",
      "outputs": "boolean indicating configuration status"
    },
    {
      "name": "getName",
      "desc": "Returns the provider identifier",
      "inputs": "none",
      "outputs": "string 'claude'"
    },
    {
      "name": "sendRequest",
      "desc": "Sends a prompt to Claude and returns the AI-generated response",
      "inputs": "LLMRequestOptions with messages, system prompt, model, and max tokens",
      "outputs": "LLMResponse with generated text and usage statistics"
    },
    {
      "name": "sendStructuredRequest",
      "desc": "Sends a prompt to Claude expecting a JSON response and extracts structured data",
      "inputs": "LLMRequestOptions with messages and schema information",
      "outputs": "StructuredOutputResponse with parsed JSON data and usage statistics"
    },
    {
      "name": "initialize",
      "desc": "Sets up the Anthropic client with API key from configuration",
      "inputs": "none (reads from config manager)",
      "outputs": "none (initializes client)"
    }
  ],
  "dependencies": [
    "@anthropic-ai/sdk",
    "../../config/configurationManager",
    "../../utils/jsonExtractor",
    "./ILLMProvider"
  ],
  "intent": "This file exists to provide a unified interface for interacting with Anthropic's Claude AI models, handling API authentication, message format conversion, error handling, and response parsing so that other parts of the extension can leverage Claude's capabilities without dealing with API-specific implementation details.",
  "rawContent": "```json\n{\n  \"purpose\": \"Integrates Anthropic's Claude AI models to provide language model capabilities for code analysis and generation within the extension.\",\n  \"userVisibleActions\": [\n    \"Sends prompts to Claude AI and receives intelligent responses for code-related tasks\",\n    \"Receives structured JSON responses from Claude for data extraction tasks\",\n    \"Experiences Claude AI-powered features like code explanation, refactoring suggestions, and documentation generation\",\n    \"Gets error messages when Claude API key is not configured\"\n  ],\n  \"developerVisibleActions\": [\n    \"Configures Claude API key through configuration manager to enable the provider\",\n    \"Sends requests with custom system prompts, conversation history, and model selection\",\n    \"Receives structured or unstructured responses from Claude models\",\n    \"Handles token usage statistics and response metadata\",\n    \"Catches and handles API errors including rate limits, authentication failures, and invalid requests\",\n    \"Uses 'claude-sonnet-4-5' as the default model with 8192 max tokens\",\n    \"Converts OpenAI message format to Claude's format automatically\",\n    \"Extracts JSON from text responses when structured output is requested\"\n  ],\n  \"keyFunctions\": [\n    {\n      \"name\": \"isConfigured\",\n      \"desc\": \"Checks if Claude API key is set up and provider is ready to use\",\n      \"inputs\": \"none\",\n      \"outputs\": \"boolean indicating configuration status\"\n    },\n    {\n      \"name\": \"getName\",\n      \"desc\": \"Returns the provider identifier\",\n      \"inputs\": \"none\",\n      \"outputs\": \"string 'claude'\"\n    },\n    {\n      \"name\": \"sendRequest\",\n      \"desc\": \"Sends a prompt to Claude and returns the AI-generated response\",\n      \"inputs\": \"LLMRequestOptions with messages, system prompt, model, and max tokens\",\n      \"outputs\": \"LLMResponse with generated text and usage statistics\"\n    },\n    {\n      \"name\": \"sendStructuredRequest\",\n      \"desc\": \"Sends a prompt to Claude expecting a JSON response and extracts structured data\",\n      \"inputs\": \"LLMRequestOptions with messages and schema information\",\n      \"outputs\": \"StructuredOutputResponse with parsed JSON data and usage statistics\"\n    },\n    {\n      \"name\": \"initialize\",\n      \"desc\": \"Sets up the Anthropic client with API key from configuration\",\n      \"inputs\": \"none (reads from config manager)\",\n      \"outputs\": \"none (initializes client)\"\n    }\n  ],\n  \"dependencies\": [\n    \"@anthropic-ai/sdk\",\n    \"../../config/configurationManager\",\n    \"../../utils/jsonExtractor\",\n    \"./ILLMProvider\"\n  ],\n  \"intent\": \"This file exists to provide a unified interface for interacting with Anthropic's Claude AI models, handling API authentication, message format conversion, error handling, and response parsing so that other parts of the extension can leverage Claude's capabilities without dealing with API-specific implementation details.\"\n}\n```",
  "_metadata": {
    "index": 0,
    "total": 0,
    "savedAt": "2025-11-20T06:27:24.366Z"
  }
}