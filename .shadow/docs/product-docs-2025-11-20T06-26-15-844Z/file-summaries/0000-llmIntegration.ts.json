{
  "file": "src/llmIntegration.ts",
  "role": "Core Logic",
  "purpose": "Integrates LLM-powered analysis features into the VS Code extension, coordinating code analysis, documentation generation, and insights display.",
  "userVisibleActions": [
    "Generates AI-powered insights about codebase structure and behavior",
    "Creates comprehensive product documentation from code analysis",
    "Displays code analysis results in tree views and panels",
    "Shows entry points and navigation structure of the project",
    "Presents unit test coverage and organization",
    "Provides interactive insights viewer with AI-generated explanations",
    "Updates and refreshes documentation when code changes",
    "Shows status of analysis and documentation generation in output panel"
  ],
  "developerVisibleActions": [
    "Initialize LLM service with API key configuration",
    "Trigger code analysis on workspace or specific files",
    "Generate documentation for entire product or individual files",
    "Regenerate insights when code or analysis changes",
    "Access saved analysis results and cached documentation",
    "Configure LLM provider and model settings",
    "View logs and debug information in output channel",
    "Manage state of analysis, documentation, and insights across sessions",
    "Export and import analysis contexts for persistence"
  ],
  "keyFunctions": [
    {
      "name": "initializeLLMService",
      "desc": "Sets up the LLM service and registers configuration change listeners",
      "inputs": "None",
      "outputs": "void"
    },
    {
      "name": "generateInsights",
      "desc": "Generates AI-powered insights from code analysis context",
      "inputs": "AnalysisContext",
      "outputs": "Promise<LLMInsights>"
    },
    {
      "name": "generateDocumentation",
      "desc": "Creates comprehensive product documentation from analysis results",
      "inputs": "CodeAnalysis, workspace path",
      "outputs": "Promise<EnhancedProductDocumentation>"
    },
    {
      "name": "analyzeCode",
      "desc": "Performs code analysis on workspace or specific files",
      "inputs": "workspace path or file paths",
      "outputs": "Promise<CodeAnalysis>"
    },
    {
      "name": "saveCodeAnalysis",
      "desc": "Persists code analysis results to storage",
      "inputs": "CodeAnalysis, workspace path",
      "outputs": "Promise<void>"
    },
    {
      "name": "loadSavedCodeAnalysis",
      "desc": "Retrieves previously saved code analysis from storage",
      "inputs": "workspace path",
      "outputs": "Promise<CodeAnalysis | null>"
    },
    {
      "name": "refreshViews",
      "desc": "Updates all tree views and panels with latest data",
      "inputs": "None",
      "outputs": "void"
    },
    {
      "name": "convertCodeAnalysisToContext",
      "desc": "Transforms code analysis results into LLM-compatible context format",
      "inputs": "CodeAnalysis",
      "outputs": "AnalysisContext"
    }
  ],
  "dependencies": [
    "vscode",
    "fs",
    "path",
    "child_process",
    "util",
    "./llmService",
    "./insightsTreeView",
    "./fileDocumentation",
    "./analyzer",
    "./productNavigator",
    "./analysisViewer",
    "./insightsViewer",
    "./unitTestsNavigator",
    "./logger",
    "./state/llmStateManager",
    "./context/analysisContextBuilder",
    "./domain/formatters/documentationFormatter",
    "./infrastructure/persistence/analysisResultRepository"
  ],
  "intent": "This file exists to bridge the gap between raw code analysis and AI-powered features, orchestrating the flow from code scanning to insight generation to user-facing documentation and visualizations. It solves the problem of coordinating multiple complex operations (analysis, LLM processing, state management, UI updates) into a cohesive system that helps developers understand their codebase through AI assistance.",
  "rawContent": "```json\n{\n  \"purpose\": \"Integrates LLM-powered analysis features into the VS Code extension, coordinating code analysis, documentation generation, and insights display.\",\n  \"userVisibleActions\": [\n    \"Generates AI-powered insights about codebase structure and behavior\",\n    \"Creates comprehensive product documentation from code analysis\",\n    \"Displays code analysis results in tree views and panels\",\n    \"Shows entry points and navigation structure of the project\",\n    \"Presents unit test coverage and organization\",\n    \"Provides interactive insights viewer with AI-generated explanations\",\n    \"Updates and refreshes documentation when code changes\",\n    \"Shows status of analysis and documentation generation in output panel\"\n  ],\n  \"developerVisibleActions\": [\n    \"Initialize LLM service with API key configuration\",\n    \"Trigger code analysis on workspace or specific files\",\n    \"Generate documentation for entire product or individual files\",\n    \"Regenerate insights when code or analysis changes\",\n    \"Access saved analysis results and cached documentation\",\n    \"Configure LLM provider and model settings\",\n    \"View logs and debug information in output channel\",\n    \"Manage state of analysis, documentation, and insights across sessions\",\n    \"Export and import analysis contexts for persistence\"\n  ],\n  \"keyFunctions\": [\n    {\n      \"name\": \"initializeLLMService\",\n      \"desc\": \"Sets up the LLM service and registers configuration change listeners\",\n      \"inputs\": \"None\",\n      \"outputs\": \"void\"\n    },\n    {\n      \"name\": \"generateInsights\",\n      \"desc\": \"Generates AI-powered insights from code analysis context\",\n      \"inputs\": \"AnalysisContext\",\n      \"outputs\": \"Promise<LLMInsights>\"\n    },\n    {\n      \"name\": \"generateDocumentation\",\n      \"desc\": \"Creates comprehensive product documentation from analysis results\",\n      \"inputs\": \"CodeAnalysis, workspace path\",\n      \"outputs\": \"Promise<EnhancedProductDocumentation>\"\n    },\n    {\n      \"name\": \"analyzeCode\",\n      \"desc\": \"Performs code analysis on workspace or specific files\",\n      \"inputs\": \"workspace path or file paths\",\n      \"outputs\": \"Promise<CodeAnalysis>\"\n    },\n    {\n      \"name\": \"saveCodeAnalysis\",\n      \"desc\": \"Persists code analysis results to storage\",\n      \"inputs\": \"CodeAnalysis, workspace path\",\n      \"outputs\": \"Promise<void>\"\n    },\n    {\n      \"name\": \"loadSavedCodeAnalysis\",\n      \"desc\": \"Retrieves previously saved code analysis from storage\",\n      \"inputs\": \"workspace path\",\n      \"outputs\": \"Promise<CodeAnalysis | null>\"\n    },\n    {\n      \"name\": \"refreshViews\",\n      \"desc\": \"Updates all tree views and panels with latest data\",\n      \"inputs\": \"None\",\n      \"outputs\": \"void\"\n    },\n    {\n      \"name\": \"convertCodeAnalysisToContext\",\n      \"desc\": \"Transforms code analysis results into LLM-compatible context format\",\n      \"inputs\": \"CodeAnalysis\",\n      \"outputs\": \"AnalysisContext\"\n    }\n  ],\n  \"dependencies\": [\n    \"vscode\",\n    \"fs\",\n    \"path\",\n    \"child_process\",\n    \"util\",\n    \"./llmService\",\n    \"./insightsTreeView\",\n    \"./fileDocumentation\",\n    \"./analyzer\",\n    \"./productNavigator\",\n    \"./analysisViewer\",\n    \"./insightsViewer\",\n    \"./unitTestsNavigator\",\n    \"./logger\",\n    \"./state/llmStateManager\",\n    \"./context/analysisContextBuilder\",\n    \"./domain/formatters/documentationFormatter\",\n    \"./infrastructure/persistence/analysisResultRepository\"\n  ],\n  \"intent\": \"This file exists to bridge the gap between raw code analysis and AI-powered features, orchestrating the flow from code scanning to insight generation to user-facing documentation and visualizations. It solves the problem of coordinating multiple complex operations (analysis, LLM processing, state management, UI updates) into a cohesive system that helps developers understand their codebase through AI assistance.\"\n}\n```",
  "_metadata": {
    "index": 0,
    "total": 0,
    "savedAt": "2025-11-20T06:36:53.103Z"
  }
}