{
  "file": "src/domain/services/testing/llmTestSetupService.ts",
  "role": "Core Logic",
  "purpose": "Detects test environment configuration and generates test setup plans using LLM analysis of the codebase structure",
  "userVisibleActions": [
    "Automatic detection of test framework (Jest, pytest, JUnit, etc.) in the workspace",
    "Identification of primary programming language used in the project",
    "Generation of test setup configuration based on existing project structure",
    "Detection of missing test infrastructure components",
    "Automated test directory structure recognition"
  ],
  "developerVisibleActions": [
    "Scans workspace for package.json, tsconfig.json, jest.config.js and test directories",
    "Analyzes file extensions to determine primary language (TypeScript, JavaScript, Python, Java, C++)",
    "Counts file types across the workspace to identify language distribution",
    "Detects installed testing frameworks and dependencies from package.json",
    "Builds prompts for LLM to generate test setup recommendations",
    "Returns TestEnvironment object containing detected configuration",
    "Provides TestSetupPlan with recommended setup steps"
  ],
  "keyFunctions": [
    {
      "name": "detectTestEnvironment",
      "desc": "Analyzes workspace to identify testing framework, language, and existing test infrastructure",
      "inputs": "workspaceRoot: string (path to project root)",
      "outputs": "TestEnvironment object with detected configuration details"
    },
    {
      "name": "getAllFiles",
      "desc": "Recursively scans workspace to get all file paths for analysis",
      "inputs": "workspaceRoot: string",
      "outputs": "Array of file paths"
    },
    {
      "name": "buildSetupPrompt",
      "desc": "Creates LLM prompt for generating test setup recommendations",
      "inputs": "TestEnvironment data",
      "outputs": "Formatted prompt string for LLM"
    }
  ],
  "dependencies": [
    "fs",
    "path",
    "child_process",
    "testSetupTypes",
    "testPrompts",
    "SWLogger"
  ],
  "intent": "This service exists to automate the initial test setup process by intelligently detecting the current project's testing environment and generating appropriate configuration recommendations, eliminating manual setup work and reducing configuration errors for developers starting with testing.",
  "rawContent": "```json\n{\n  \"purpose\": \"Detects test environment configuration and generates test setup plans using LLM analysis of the codebase structure\",\n  \"userVisibleActions\": [\n    \"Automatic detection of test framework (Jest, pytest, JUnit, etc.) in the workspace\",\n    \"Identification of primary programming language used in the project\",\n    \"Generation of test setup configuration based on existing project structure\",\n    \"Detection of missing test infrastructure components\",\n    \"Automated test directory structure recognition\"\n  ],\n  \"developerVisibleActions\": [\n    \"Scans workspace for package.json, tsconfig.json, jest.config.js and test directories\",\n    \"Analyzes file extensions to determine primary language (TypeScript, JavaScript, Python, Java, C++)\",\n    \"Counts file types across the workspace to identify language distribution\",\n    \"Detects installed testing frameworks and dependencies from package.json\",\n    \"Builds prompts for LLM to generate test setup recommendations\",\n    \"Returns TestEnvironment object containing detected configuration\",\n    \"Provides TestSetupPlan with recommended setup steps\"\n  ],\n  \"keyFunctions\": [\n    {\n      \"name\": \"detectTestEnvironment\",\n      \"desc\": \"Analyzes workspace to identify testing framework, language, and existing test infrastructure\",\n      \"inputs\": \"workspaceRoot: string (path to project root)\",\n      \"outputs\": \"TestEnvironment object with detected configuration details\"\n    },\n    {\n      \"name\": \"getAllFiles\",\n      \"desc\": \"Recursively scans workspace to get all file paths for analysis\",\n      \"inputs\": \"workspaceRoot: string\",\n      \"outputs\": \"Array of file paths\"\n    },\n    {\n      \"name\": \"buildSetupPrompt\",\n      \"desc\": \"Creates LLM prompt for generating test setup recommendations\",\n      \"inputs\": \"TestEnvironment data\",\n      \"outputs\": \"Formatted prompt string for LLM\"\n    }\n  ],\n  \"dependencies\": [\n    \"fs\",\n    \"path\",\n    \"child_process\",\n    \"testSetupTypes\",\n    \"testPrompts\",\n    \"SWLogger\"\n  ],\n  \"intent\": \"This service exists to automate the initial test setup process by intelligently detecting the current project's testing environment and generating appropriate configuration recommendations, eliminating manual setup work and reducing configuration errors for developers starting with testing.\"\n}\n```",
  "_metadata": {
    "index": 0,
    "total": 0,
    "savedAt": "2025-11-20T06:32:50.866Z"
  }
}