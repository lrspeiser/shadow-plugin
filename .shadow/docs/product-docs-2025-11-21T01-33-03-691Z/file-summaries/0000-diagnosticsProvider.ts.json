{
  "file": "src/diagnosticsProvider.ts",
  "role": "Core Logic",
  "purpose": "Manages and displays code insights as inline diagnostics (warnings, errors, info) in the VS Code editor",
  "userVisibleActions": [
    "Sees inline diagnostics (squiggly underlines) in code files where insights are detected",
    "Hovers over diagnostics to see insight descriptions and severity levels",
    "Views diagnostics in the Problems panel organized by file",
    "Sees diagnostics labeled as 'Shadow Watch' with unique insight IDs",
    "Diagnostics automatically clear and refresh when insights update"
  ],
  "developerVisibleActions": [
    "Creates a diagnostic collection named 'shadowWatch' for the extension",
    "Converts insight objects into VS Code diagnostic objects that appear in the editor",
    "Groups insights by file path and applies them to the correct documents",
    "Maps insight severity levels to VS Code diagnostic severities (Error, Warning, Information, Hint)",
    "Clears all diagnostics when requested or when disposing the provider",
    "Updates diagnostics for all files or specific files based on insight data"
  ],
  "keyFunctions": [
    {
      "name": "updateDiagnostics",
      "desc": "Takes a list of insights and displays them as diagnostics across all affected files",
      "inputs": "Array of Insight objects",
      "outputs": "void (updates VS Code UI)"
    },
    {
      "name": "updateDiagnosticsForFile",
      "desc": "Updates diagnostics for a specific file URI",
      "inputs": "VS Code URI and array of Insight objects",
      "outputs": "void (updates VS Code UI)"
    },
    {
      "name": "clear",
      "desc": "Removes all diagnostics from all files",
      "inputs": "none",
      "outputs": "void"
    },
    {
      "name": "createDiagnostic",
      "desc": "Converts a single insight into a VS Code diagnostic object",
      "inputs": "Insight object",
      "outputs": "VS Code Diagnostic object"
    },
    {
      "name": "getSeverity",
      "desc": "Maps insight severity to VS Code diagnostic severity level",
      "inputs": "Severity string from insight",
      "outputs": "VS Code DiagnosticSeverity enum"
    },
    {
      "name": "dispose",
      "desc": "Cleans up the diagnostic collection when extension deactivates",
      "inputs": "none",
      "outputs": "void"
    }
  ],
  "dependencies": [
    "vscode",
    "./insightGenerator"
  ],
  "intent": "Provides a bridge between the extension's insight generation system and VS Code's native diagnostics UI, allowing code analysis results to be displayed as familiar inline problems that users see in their editor and Problems panel",
  "rawContent": "```json\n{\n  \"purpose\": \"Manages and displays code insights as inline diagnostics (warnings, errors, info) in the VS Code editor\",\n  \"userVisibleActions\": [\n    \"Sees inline diagnostics (squiggly underlines) in code files where insights are detected\",\n    \"Hovers over diagnostics to see insight descriptions and severity levels\",\n    \"Views diagnostics in the Problems panel organized by file\",\n    \"Sees diagnostics labeled as 'Shadow Watch' with unique insight IDs\",\n    \"Diagnostics automatically clear and refresh when insights update\"\n  ],\n  \"developerVisibleActions\": [\n    \"Creates a diagnostic collection named 'shadowWatch' for the extension\",\n    \"Converts insight objects into VS Code diagnostic objects that appear in the editor\",\n    \"Groups insights by file path and applies them to the correct documents\",\n    \"Maps insight severity levels to VS Code diagnostic severities (Error, Warning, Information, Hint)\",\n    \"Clears all diagnostics when requested or when disposing the provider\",\n    \"Updates diagnostics for all files or specific files based on insight data\"\n  ],\n  \"keyFunctions\": [\n    {\n      \"name\": \"updateDiagnostics\",\n      \"desc\": \"Takes a list of insights and displays them as diagnostics across all affected files\",\n      \"inputs\": \"Array of Insight objects\",\n      \"outputs\": \"void (updates VS Code UI)\"\n    },\n    {\n      \"name\": \"updateDiagnosticsForFile\",\n      \"desc\": \"Updates diagnostics for a specific file URI\",\n      \"inputs\": \"VS Code URI and array of Insight objects\",\n      \"outputs\": \"void (updates VS Code UI)\"\n    },\n    {\n      \"name\": \"clear\",\n      \"desc\": \"Removes all diagnostics from all files\",\n      \"inputs\": \"none\",\n      \"outputs\": \"void\"\n    },\n    {\n      \"name\": \"createDiagnostic\",\n      \"desc\": \"Converts a single insight into a VS Code diagnostic object\",\n      \"inputs\": \"Insight object\",\n      \"outputs\": \"VS Code Diagnostic object\"\n    },\n    {\n      \"name\": \"getSeverity\",\n      \"desc\": \"Maps insight severity to VS Code diagnostic severity level\",\n      \"inputs\": \"Severity string from insight\",\n      \"outputs\": \"VS Code DiagnosticSeverity enum\"\n    },\n    {\n      \"name\": \"dispose\",\n      \"desc\": \"Cleans up the diagnostic collection when extension deactivates\",\n      \"inputs\": \"none\",\n      \"outputs\": \"void\"\n    }\n  ],\n  \"dependencies\": [\n    \"vscode\",\n    \"./insightGenerator\"\n  ],\n  \"intent\": \"Provides a bridge between the extension's insight generation system and VS Code's native diagnostics UI, allowing code analysis results to be displayed as familiar inline problems that users see in their editor and Problems panel\"\n}\n```",
  "_metadata": {
    "index": 0,
    "total": 0,
    "savedAt": "2025-11-21T01:36:22.138Z"
  }
}