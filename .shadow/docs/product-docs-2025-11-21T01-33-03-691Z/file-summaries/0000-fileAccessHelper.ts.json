{
  "file": "src/fileAccessHelper.ts",
  "role": "Core Logic",
  "purpose": "Provides file reading and grep search functionality to enable iterative code analysis by LLMs within a workspace",
  "userVisibleActions": [
    "Users can request to read specific files by providing a file path",
    "Users can search for text patterns across multiple files using grep-like functionality",
    "Users receive file contents with line counts and existence status",
    "Users get search results showing matching lines with file locations and line numbers",
    "Users can see context lines before and after grep matches",
    "Users can limit search scope using file patterns (e.g., '*.ts', 'src/**/*.ts')",
    "Users can control maximum number of search results returned",
    "Users receive organized file listings grouped by folder"
  ],
  "developerVisibleActions": [
    "Developer creates FileRequest objects with file path and optional reason",
    "Developer creates GrepRequest objects with search pattern, optional file pattern, max results, and reason",
    "Developer receives FileResponse with file content, line count, and existence flag",
    "Developer receives GrepResponse with matches, total match count, and limited flag",
    "Developer gets structured grep matches with file path, line number, content, and optional context",
    "Developer can process file listings organized by directory structure",
    "Developer handles both successful file reads and missing file scenarios",
    "Developer works with workspace-relative paths through the FileAccessHelper instance"
  ],
  "keyFunctions": [
    {
      "name": "getFileListing",
      "desc": "Organizes and formats a list of files grouped by their containing folders",
      "inputs": "Array of file objects with path, optional lines, and optional language",
      "outputs": "String representation of files organized by folder structure"
    },
    {
      "name": "processRequest",
      "desc": "Processes either a file read request or grep search request and returns appropriate response",
      "inputs": "LLMRequest (FileRequest or GrepRequest)",
      "outputs": "FileResponse or GrepResponse depending on request type"
    },
    {
      "name": "readFile",
      "desc": "Reads a specific file from the workspace and returns its content with metadata",
      "inputs": "File path string",
      "outputs": "FileResponse with content, line count, and exists flag"
    },
    {
      "name": "grepSearch",
      "desc": "Searches for a text pattern across files with optional filtering and result limiting",
      "inputs": "GrepRequest with pattern, optional file pattern, max results, and reason",
      "outputs": "GrepResponse with matching lines, context, total count, and limited flag"
    }
  ],
  "dependencies": [
    "fs",
    "path"
  ],
  "intent": "This file exists to enable LLMs to iteratively explore and analyze codebases by providing controlled file access and search capabilities, allowing LLMs to request specific files or search for patterns as needed during analysis rather than loading entire codebases upfront",
  "rawContent": "```json\n{\n  \"purpose\": \"Provides file reading and grep search functionality to enable iterative code analysis by LLMs within a workspace\",\n  \"userVisibleActions\": [\n    \"Users can request to read specific files by providing a file path\",\n    \"Users can search for text patterns across multiple files using grep-like functionality\",\n    \"Users receive file contents with line counts and existence status\",\n    \"Users get search results showing matching lines with file locations and line numbers\",\n    \"Users can see context lines before and after grep matches\",\n    \"Users can limit search scope using file patterns (e.g., '*.ts', 'src/**/*.ts')\",\n    \"Users can control maximum number of search results returned\",\n    \"Users receive organized file listings grouped by folder\"\n  ],\n  \"developerVisibleActions\": [\n    \"Developer creates FileRequest objects with file path and optional reason\",\n    \"Developer creates GrepRequest objects with search pattern, optional file pattern, max results, and reason\",\n    \"Developer receives FileResponse with file content, line count, and existence flag\",\n    \"Developer receives GrepResponse with matches, total match count, and limited flag\",\n    \"Developer gets structured grep matches with file path, line number, content, and optional context\",\n    \"Developer can process file listings organized by directory structure\",\n    \"Developer handles both successful file reads and missing file scenarios\",\n    \"Developer works with workspace-relative paths through the FileAccessHelper instance\"\n  ],\n  \"keyFunctions\": [\n    {\n      \"name\": \"getFileListing\",\n      \"desc\": \"Organizes and formats a list of files grouped by their containing folders\",\n      \"inputs\": \"Array of file objects with path, optional lines, and optional language\",\n      \"outputs\": \"String representation of files organized by folder structure\"\n    },\n    {\n      \"name\": \"processRequest\",\n      \"desc\": \"Processes either a file read request or grep search request and returns appropriate response\",\n      \"inputs\": \"LLMRequest (FileRequest or GrepRequest)\",\n      \"outputs\": \"FileResponse or GrepResponse depending on request type\"\n    },\n    {\n      \"name\": \"readFile\",\n      \"desc\": \"Reads a specific file from the workspace and returns its content with metadata\",\n      \"inputs\": \"File path string\",\n      \"outputs\": \"FileResponse with content, line count, and exists flag\"\n    },\n    {\n      \"name\": \"grepSearch\",\n      \"desc\": \"Searches for a text pattern across files with optional filtering and result limiting\",\n      \"inputs\": \"GrepRequest with pattern, optional file pattern, max results, and reason\",\n      \"outputs\": \"GrepResponse with matching lines, context, total count, and limited flag\"\n    }\n  ],\n  \"dependencies\": [\n    \"fs\",\n    \"path\"\n  ],\n  \"intent\": \"This file exists to enable LLMs to iteratively explore and analyze codebases by providing controlled file access and search capabilities, allowing LLMs to request specific files or search for patterns as needed during analysis rather than loading entire codebases upfront\"\n}\n```",
  "_metadata": {
    "index": 0,
    "total": 0,
    "savedAt": "2025-11-21T01:40:31.975Z"
  }
}