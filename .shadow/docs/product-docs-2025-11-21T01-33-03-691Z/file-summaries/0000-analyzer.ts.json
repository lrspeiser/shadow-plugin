{
  "file": "src/analyzer.ts",
  "role": "Core Logic",
  "purpose": "Defines interfaces and structures for code analysis results, including file metadata, function information, dependencies, test mappings, and code quality metrics.",
  "userVisibleActions": [
    "View total counts of files, lines, and functions in their codebase",
    "See which files are large and may need refactoring",
    "Identify orphaned files that aren't imported anywhere",
    "Discover entry points in the application",
    "Find duplicate code blocks across the codebase",
    "Understand function risk levels (high, medium, low)",
    "See which functions lack test coverage"
  ],
  "developerVisibleActions": [
    "Access structured analysis data through TypeScript interfaces",
    "Query file information including path, lines, size, and role",
    "Inspect function metadata including parameters, return types, and visibility",
    "Examine control flow branches (if, loops, try-catch) in functions",
    "Track dependencies (database, HTTP, filesystem, etc.) used by functions",
    "Analyze state mutations (assignments, modifications) in code",
    "Map test files to source files and functions",
    "Identify uncovered functions and lines in test coverage",
    "Find import relationships between files",
    "Use caching mechanism for performance optimization"
  ],
  "keyFunctions": [
    {
      "name": "CodeAnalysis",
      "desc": "Main analysis result container with file counts, function metadata, dependencies, and test coverage",
      "inputs": "N/A (interface)",
      "outputs": "Structured data including totalFiles, totalLines, functions, imports, orphanedFiles, duplicates, testMapping"
    },
    {
      "name": "FunctionMetadata",
      "desc": "Detailed information about a function including parameters, branches, dependencies, and risk level",
      "inputs": "N/A (interface)",
      "outputs": "Function name, parameters with types, return type, visibility, branches, dependencies, state mutations, risk assessment"
    },
    {
      "name": "TestMapping",
      "desc": "Maps source files and functions to their test coverage",
      "inputs": "N/A (interface)",
      "outputs": "Source-to-test file mappings, function-to-test mappings, list of uncovered functions"
    },
    {
      "name": "DependencyInfo",
      "desc": "Identifies external dependencies like databases, HTTP calls, filesystem operations",
      "inputs": "N/A (interface)",
      "outputs": "Dependency name, type (db/http/filesystem/etc), whether internal or external, line number"
    },
    {
      "name": "EntryPoint",
      "desc": "Identifies application entry points and their types",
      "inputs": "N/A (interface)",
      "outputs": "File path, entry point type (main/cli/api/config/test), function name, description"
    }
  ],
  "dependencies": [
    "fs",
    "path",
    "./cache"
  ],
  "intent": "This file provides the type system and data structures for representing comprehensive code analysis results. It enables developers to work with structured information about code quality, test coverage, dependencies, and architectural patterns. The interfaces support both basic metrics (file counts, function counts) and advanced analysis (control flow branches, state mutations, risk assessment, duplicate detection) to help developers understand and improve their codebase.",
  "rawContent": "```json\n{\n  \"purpose\": \"Defines interfaces and structures for code analysis results, including file metadata, function information, dependencies, test mappings, and code quality metrics.\",\n  \"userVisibleActions\": [\n    \"View total counts of files, lines, and functions in their codebase\",\n    \"See which files are large and may need refactoring\",\n    \"Identify orphaned files that aren't imported anywhere\",\n    \"Discover entry points in the application\",\n    \"Find duplicate code blocks across the codebase\",\n    \"Understand function risk levels (high, medium, low)\",\n    \"See which functions lack test coverage\"\n  ],\n  \"developerVisibleActions\": [\n    \"Access structured analysis data through TypeScript interfaces\",\n    \"Query file information including path, lines, size, and role\",\n    \"Inspect function metadata including parameters, return types, and visibility\",\n    \"Examine control flow branches (if, loops, try-catch) in functions\",\n    \"Track dependencies (database, HTTP, filesystem, etc.) used by functions\",\n    \"Analyze state mutations (assignments, modifications) in code\",\n    \"Map test files to source files and functions\",\n    \"Identify uncovered functions and lines in test coverage\",\n    \"Find import relationships between files\",\n    \"Use caching mechanism for performance optimization\"\n  ],\n  \"keyFunctions\": [\n    {\n      \"name\": \"CodeAnalysis\",\n      \"desc\": \"Main analysis result container with file counts, function metadata, dependencies, and test coverage\",\n      \"inputs\": \"N/A (interface)\",\n      \"outputs\": \"Structured data including totalFiles, totalLines, functions, imports, orphanedFiles, duplicates, testMapping\"\n    },\n    {\n      \"name\": \"FunctionMetadata\",\n      \"desc\": \"Detailed information about a function including parameters, branches, dependencies, and risk level\",\n      \"inputs\": \"N/A (interface)\",\n      \"outputs\": \"Function name, parameters with types, return type, visibility, branches, dependencies, state mutations, risk assessment\"\n    },\n    {\n      \"name\": \"TestMapping\",\n      \"desc\": \"Maps source files and functions to their test coverage\",\n      \"inputs\": \"N/A (interface)\",\n      \"outputs\": \"Source-to-test file mappings, function-to-test mappings, list of uncovered functions\"\n    },\n    {\n      \"name\": \"DependencyInfo\",\n      \"desc\": \"Identifies external dependencies like databases, HTTP calls, filesystem operations\",\n      \"inputs\": \"N/A (interface)\",\n      \"outputs\": \"Dependency name, type (db/http/filesystem/etc), whether internal or external, line number\"\n    },\n    {\n      \"name\": \"EntryPoint\",\n      \"desc\": \"Identifies application entry points and their types\",\n      \"inputs\": \"N/A (interface)\",\n      \"outputs\": \"File path, entry point type (main/cli/api/config/test), function name, description\"\n    }\n  ],\n  \"dependencies\": [\n    \"fs\",\n    \"path\",\n    \"./cache\"\n  ],\n  \"intent\": \"This file provides the type system and data structures for representing comprehensive code analysis results. It enables developers to work with structured information about code quality, test coverage, dependencies, and architectural patterns. The interfaces support both basic metrics (file counts, function counts) and advanced analysis (control flow branches, state mutations, risk assessment, duplicate detection) to help developers understand and improve their codebase.\"\n}\n```",
  "_metadata": {
    "index": 0,
    "total": 0,
    "savedAt": "2025-11-21T01:35:29.012Z"
  }
}