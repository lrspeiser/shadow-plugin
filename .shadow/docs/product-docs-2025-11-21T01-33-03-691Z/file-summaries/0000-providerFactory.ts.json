{
  "file": "src/ai/providers/providerFactory.ts",
  "role": "Core Logic",
  "purpose": "Creates and manages AI provider instances (OpenAI or Claude) based on user configuration",
  "userVisibleActions": [
    "Automatically connects to the AI provider selected in settings (OpenAI or Claude)",
    "Only shows available AI providers that have valid API keys configured",
    "Uses the default AI provider from configuration when generating responses"
  ],
  "developerVisibleActions": [
    "Provides a centralized factory for getting AI provider instances",
    "Caches provider instances to avoid recreating them",
    "Exposes methods to check which providers are properly configured",
    "Returns the currently active provider based on user settings",
    "Throws error when requesting an unknown provider type"
  ],
  "keyFunctions": [
    {
      "name": "getProvider",
      "desc": "Returns a specific AI provider instance (OpenAI or Claude)",
      "inputs": "provider: 'openai' | 'claude'",
      "outputs": "ILLMProvider instance"
    },
    {
      "name": "getCurrentProvider",
      "desc": "Returns the AI provider that is currently active in user settings",
      "inputs": "none",
      "outputs": "ILLMProvider instance"
    },
    {
      "name": "isProviderConfigured",
      "desc": "Checks if a provider has valid configuration (API key, etc.)",
      "inputs": "provider: 'openai' | 'claude'",
      "outputs": "boolean"
    },
    {
      "name": "getConfiguredProviders",
      "desc": "Returns list of all providers that have valid configuration",
      "inputs": "none",
      "outputs": "Array of provider names"
    }
  ],
  "dependencies": [
    "ILLMProvider",
    "OpenAIProvider",
    "AnthropicProvider",
    "configurationManager"
  ],
  "intent": "Provides a single point of control for creating and accessing AI providers, ensuring only one instance of each provider exists and automatically selecting the provider based on user configuration",
  "rawContent": "```json\n{\n  \"purpose\": \"Creates and manages AI provider instances (OpenAI or Claude) based on user configuration\",\n  \"userVisibleActions\": [\n    \"Automatically connects to the AI provider selected in settings (OpenAI or Claude)\",\n    \"Only shows available AI providers that have valid API keys configured\",\n    \"Uses the default AI provider from configuration when generating responses\"\n  ],\n  \"developerVisibleActions\": [\n    \"Provides a centralized factory for getting AI provider instances\",\n    \"Caches provider instances to avoid recreating them\",\n    \"Exposes methods to check which providers are properly configured\",\n    \"Returns the currently active provider based on user settings\",\n    \"Throws error when requesting an unknown provider type\"\n  ],\n  \"keyFunctions\": [\n    {\n      \"name\": \"getProvider\",\n      \"desc\": \"Returns a specific AI provider instance (OpenAI or Claude)\",\n      \"inputs\": \"provider: 'openai' | 'claude'\",\n      \"outputs\": \"ILLMProvider instance\"\n    },\n    {\n      \"name\": \"getCurrentProvider\",\n      \"desc\": \"Returns the AI provider that is currently active in user settings\",\n      \"inputs\": \"none\",\n      \"outputs\": \"ILLMProvider instance\"\n    },\n    {\n      \"name\": \"isProviderConfigured\",\n      \"desc\": \"Checks if a provider has valid configuration (API key, etc.)\",\n      \"inputs\": \"provider: 'openai' | 'claude'\",\n      \"outputs\": \"boolean\"\n    },\n    {\n      \"name\": \"getConfiguredProviders\",\n      \"desc\": \"Returns list of all providers that have valid configuration\",\n      \"inputs\": \"none\",\n      \"outputs\": \"Array of provider names\"\n    }\n  ],\n  \"dependencies\": [\n    \"ILLMProvider\",\n    \"OpenAIProvider\",\n    \"AnthropicProvider\",\n    \"configurationManager\"\n  ],\n  \"intent\": \"Provides a single point of control for creating and accessing AI providers, ensuring only one instance of each provider exists and automatically selecting the provider based on user configuration\"\n}\n```",
  "_metadata": {
    "index": 0,
    "total": 0,
    "savedAt": "2025-11-21T01:34:28.420Z"
  }
}