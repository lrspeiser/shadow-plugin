{
  "file": "src/ai/llmResponseParser.ts",
  "role": "Core Logic",
  "purpose": "Parses and extracts structured data from LLM text responses into standardized formats for file summaries, module summaries, and product documentation.",
  "userVisibleActions": [
    "When AI analysis completes, user receives structured documentation with clear sections for purpose, actions, and dependencies",
    "User sees organized file and module summaries with extracted key information",
    "User receives product documentation with categorized features and use cases",
    "When AI responses are malformed, user still gets partial data with fallback text extraction"
  ],
  "developerVisibleActions": [
    "Developer calls parser methods with raw LLM response text and receives typed objects (FileSummary, ModuleSummary, EnhancedProductDocumentation)",
    "Developer provides file paths and role information to get parsed file summaries",
    "Developer passes module paths to get consolidated module analysis",
    "Developer triggers product documentation parsing to extract features, use cases, and target users",
    "Parser attempts JSON parsing first, then falls back to text extraction if JSON parsing fails",
    "Developer receives LLMInsights objects with parsed purpose, capabilities, and context",
    "Parser handles extraction of list sections, nested structures, and specific data fields from unstructured text"
  ],
  "keyFunctions": [
    {
      "name": "parseFileSummary",
      "desc": "Extracts file-level documentation from LLM response",
      "inputs": "content (string), filePath (string), role (string)",
      "outputs": "FileSummary object with purpose, actions, functions, and dependencies"
    },
    {
      "name": "parseModuleSummary",
      "desc": "Extracts module-level documentation from LLM response",
      "inputs": "content (string), modulePath (string)",
      "outputs": "ModuleSummary object with organized module information"
    },
    {
      "name": "parseEnhancedProductDocumentation",
      "desc": "Extracts comprehensive product documentation from LLM response",
      "inputs": "content (string)",
      "outputs": "EnhancedProductDocumentation object with features, use cases, and target users"
    },
    {
      "name": "parseInsights",
      "desc": "Extracts general insights and analysis from LLM response",
      "inputs": "content (string)",
      "outputs": "LLMInsights object with purpose, capabilities, and context"
    },
    {
      "name": "extractSection",
      "desc": "Extracts a specific named section from text content",
      "inputs": "content (string), sectionName (string)",
      "outputs": "Extracted text string or empty string"
    },
    {
      "name": "extractListSection",
      "desc": "Extracts a list of items from a named section",
      "inputs": "content (string), sectionName (string)",
      "outputs": "Array of strings extracted from the section"
    }
  ],
  "dependencies": [
    "../fileDocumentation (FileSummary, ModuleSummary, EnhancedProductDocumentation)",
    "../llmService (LLMInsights, ProductPurposeAnalysis, AnalysisContext)"
  ],
  "intent": "Solves the problem of converting unstructured LLM text responses into consistent, typed data structures that can be programmatically used throughout the application. Acts as the bridge between raw AI output and structured documentation objects, handling both JSON and freeform text responses with fallback strategies.",
  "rawContent": "```json\n{\n  \"purpose\": \"Parses and extracts structured data from LLM text responses into standardized formats for file summaries, module summaries, and product documentation.\",\n  \"userVisibleActions\": [\n    \"When AI analysis completes, user receives structured documentation with clear sections for purpose, actions, and dependencies\",\n    \"User sees organized file and module summaries with extracted key information\",\n    \"User receives product documentation with categorized features and use cases\",\n    \"When AI responses are malformed, user still gets partial data with fallback text extraction\"\n  ],\n  \"developerVisibleActions\": [\n    \"Developer calls parser methods with raw LLM response text and receives typed objects (FileSummary, ModuleSummary, EnhancedProductDocumentation)\",\n    \"Developer provides file paths and role information to get parsed file summaries\",\n    \"Developer passes module paths to get consolidated module analysis\",\n    \"Developer triggers product documentation parsing to extract features, use cases, and target users\",\n    \"Parser attempts JSON parsing first, then falls back to text extraction if JSON parsing fails\",\n    \"Developer receives LLMInsights objects with parsed purpose, capabilities, and context\",\n    \"Parser handles extraction of list sections, nested structures, and specific data fields from unstructured text\"\n  ],\n  \"keyFunctions\": [\n    {\n      \"name\": \"parseFileSummary\",\n      \"desc\": \"Extracts file-level documentation from LLM response\",\n      \"inputs\": \"content (string), filePath (string), role (string)\",\n      \"outputs\": \"FileSummary object with purpose, actions, functions, and dependencies\"\n    },\n    {\n      \"name\": \"parseModuleSummary\",\n      \"desc\": \"Extracts module-level documentation from LLM response\",\n      \"inputs\": \"content (string), modulePath (string)\",\n      \"outputs\": \"ModuleSummary object with organized module information\"\n    },\n    {\n      \"name\": \"parseEnhancedProductDocumentation\",\n      \"desc\": \"Extracts comprehensive product documentation from LLM response\",\n      \"inputs\": \"content (string)\",\n      \"outputs\": \"EnhancedProductDocumentation object with features, use cases, and target users\"\n    },\n    {\n      \"name\": \"parseInsights\",\n      \"desc\": \"Extracts general insights and analysis from LLM response\",\n      \"inputs\": \"content (string)\",\n      \"outputs\": \"LLMInsights object with purpose, capabilities, and context\"\n    },\n    {\n      \"name\": \"extractSection\",\n      \"desc\": \"Extracts a specific named section from text content\",\n      \"inputs\": \"content (string), sectionName (string)\",\n      \"outputs\": \"Extracted text string or empty string\"\n    },\n    {\n      \"name\": \"extractListSection\",\n      \"desc\": \"Extracts a list of items from a named section\",\n      \"inputs\": \"content (string), sectionName (string)\",\n      \"outputs\": \"Array of strings extracted from the section\"\n    }\n  ],\n  \"dependencies\": [\n    \"../fileDocumentation (FileSummary, ModuleSummary, EnhancedProductDocumentation)\",\n    \"../llmService (LLMInsights, ProductPurposeAnalysis, AnalysisContext)\"\n  ],\n  \"intent\": \"Solves the problem of converting unstructured LLM text responses into consistent, typed data structures that can be programmatically used throughout the application. Acts as the bridge between raw AI output and structured documentation objects, handling both JSON and freeform text responses with fallback strategies.\"\n}\n```",
  "_metadata": {
    "index": 0,
    "total": 0,
    "savedAt": "2025-11-19T21:13:03.960Z"
  }
}