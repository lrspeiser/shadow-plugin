{
  "file": "src/reportsTreeProvider.ts",
  "role": "Core Logic",
  "purpose": "Provides a tree view sidebar that displays all available Shadow Watch reports with their generation status and allows users to open them.",
  "userVisibleActions": [
    "View a tree list of all Shadow Watch report types in the sidebar",
    "See which reports have been generated (green file icon) and which haven't (gray slash icon)",
    "See when each report was last generated in the tooltip",
    "Click on a generated report to open it in the editor",
    "See descriptive tooltips explaining what each report type contains",
    "View report file paths and timestamps on hover"
  ],
  "developerVisibleActions": [
    "Register report generation events to update the tree view",
    "Track five report types: workspace, product, architecture, refactoring, and unit-test",
    "Refresh the tree view automatically when reports are generated or deleted",
    "Handle report metadata including path, timestamp, and description",
    "Provide context values for available/unavailable reports to enable different menu actions",
    "Emit tree data change events to trigger UI updates"
  ],
  "keyFunctions": [
    {
      "name": "ReportTreeItem.constructor",
      "desc": "Creates a tree item representing a report with visual indicators for availability status",
      "inputs": "label, reportType, filePath, description, timestamp",
      "outputs": "TreeItem with icon, tooltip, command, and context value"
    },
    {
      "name": "getChildren",
      "desc": "Returns the list of all report types to display in the tree view",
      "inputs": "element (optional parent item)",
      "outputs": "Array of ReportTreeItem objects"
    },
    {
      "name": "refresh",
      "desc": "Triggers a refresh of the tree view to show updated report statuses",
      "inputs": "none",
      "outputs": "void (fires onDidChangeTreeData event)"
    },
    {
      "name": "updateReport",
      "desc": "Updates the metadata for a specific report type when it's generated or modified",
      "inputs": "reportInfo (type, path, timestamp, label, description)",
      "outputs": "void (updates internal map and refreshes tree)"
    },
    {
      "name": "deleteReport",
      "desc": "Marks a report as unavailable when it's deleted",
      "inputs": "reportType",
      "outputs": "void (removes from map and refreshes tree)"
    }
  ],
  "dependencies": [
    "vscode",
    "path",
    "fs"
  ],
  "intent": "Replaces the old webview-based report viewer with a permanent sidebar pane that gives users a centralized location to see all report types, their availability status, and quick access to open them. Solves the problem of users not knowing which reports exist, whether they've been generated, and how to access them.",
  "rawContent": "```json\n{\n  \"purpose\": \"Provides a tree view sidebar that displays all available Shadow Watch reports with their generation status and allows users to open them.\",\n  \"userVisibleActions\": [\n    \"View a tree list of all Shadow Watch report types in the sidebar\",\n    \"See which reports have been generated (green file icon) and which haven't (gray slash icon)\",\n    \"See when each report was last generated in the tooltip\",\n    \"Click on a generated report to open it in the editor\",\n    \"See descriptive tooltips explaining what each report type contains\",\n    \"View report file paths and timestamps on hover\"\n  ],\n  \"developerVisibleActions\": [\n    \"Register report generation events to update the tree view\",\n    \"Track five report types: workspace, product, architecture, refactoring, and unit-test\",\n    \"Refresh the tree view automatically when reports are generated or deleted\",\n    \"Handle report metadata including path, timestamp, and description\",\n    \"Provide context values for available/unavailable reports to enable different menu actions\",\n    \"Emit tree data change events to trigger UI updates\"\n  ],\n  \"keyFunctions\": [\n    {\n      \"name\": \"ReportTreeItem.constructor\",\n      \"desc\": \"Creates a tree item representing a report with visual indicators for availability status\",\n      \"inputs\": \"label, reportType, filePath, description, timestamp\",\n      \"outputs\": \"TreeItem with icon, tooltip, command, and context value\"\n    },\n    {\n      \"name\": \"getChildren\",\n      \"desc\": \"Returns the list of all report types to display in the tree view\",\n      \"inputs\": \"element (optional parent item)\",\n      \"outputs\": \"Array of ReportTreeItem objects\"\n    },\n    {\n      \"name\": \"refresh\",\n      \"desc\": \"Triggers a refresh of the tree view to show updated report statuses\",\n      \"inputs\": \"none\",\n      \"outputs\": \"void (fires onDidChangeTreeData event)\"\n    },\n    {\n      \"name\": \"updateReport\",\n      \"desc\": \"Updates the metadata for a specific report type when it's generated or modified\",\n      \"inputs\": \"reportInfo (type, path, timestamp, label, description)\",\n      \"outputs\": \"void (updates internal map and refreshes tree)\"\n    },\n    {\n      \"name\": \"deleteReport\",\n      \"desc\": \"Marks a report as unavailable when it's deleted\",\n      \"inputs\": \"reportType\",\n      \"outputs\": \"void (removes from map and refreshes tree)\"\n    }\n  ],\n  \"dependencies\": [\n    \"vscode\",\n    \"path\",\n    \"fs\"\n  ],\n  \"intent\": \"Replaces the old webview-based report viewer with a permanent sidebar pane that gives users a centralized location to see all report types, their availability status, and quick access to open them. Solves the problem of users not knowing which reports exist, whether they've been generated, and how to access them.\"\n}\n```",
  "_metadata": {
    "index": 0,
    "total": 0,
    "savedAt": "2025-11-19T21:22:38.864Z"
  }
}