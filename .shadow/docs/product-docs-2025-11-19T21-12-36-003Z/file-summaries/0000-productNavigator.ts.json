{
  "file": "src/productNavigator.ts",
  "role": "Core Logic",
  "purpose": "Provides a product-centric navigation view that organizes code by functionality instead of file structure, allowing users to browse the codebase by features and capabilities.",
  "userVisibleActions": [
    "View codebase organized by product features and functionality instead of file structure",
    "Navigate to code files by clicking on feature categories and subcategories",
    "See real-time updates to the product navigation tree when code documentation changes",
    "Expand and collapse feature groups to explore different areas of the product",
    "Click on file items to open and view source code files",
    "See visual indicators (icons and labels) for different types of product features",
    "Browse features grouped by user-facing categories, developer tools, and architectural components"
  ],
  "developerVisibleActions": [
    "Registers a custom tree view provider that organizes code by product functionality",
    "Monitors file system for changes to product documentation and updates the navigation tree automatically",
    "Loads enhanced product documentation from .shadow/docs directory to build the navigation structure",
    "Provides tree data through VSCode's TreeDataProvider interface for rendering in the sidebar",
    "Handles file watchers for both aggregate documentation and incremental file updates",
    "Manages workspace state and product documentation lifecycle",
    "Triggers tree refresh when documentation files are created, changed, or deleted",
    "Integrates with FileWatcherService for centralized file monitoring"
  ],
  "keyFunctions": [
    {
      "name": "getTreeItem",
      "desc": "Returns the visual representation (label, icon, collapsible state) for a navigation item",
      "inputs": "ProductNavItem element",
      "outputs": "TreeItem with display properties"
    },
    {
      "name": "getChildren",
      "desc": "Returns child navigation items for a given parent, building the hierarchical product navigation structure",
      "inputs": "Optional parent ProductNavItem",
      "outputs": "Array of child ProductNavItem objects"
    },
    {
      "name": "refresh",
      "desc": "Reloads product documentation and updates the navigation tree view",
      "inputs": "None",
      "outputs": "Promise that resolves when refresh is complete"
    },
    {
      "name": "loadProductDocumentation",
      "desc": "Loads enhanced product documentation from the workspace's shadow directory",
      "inputs": "None",
      "outputs": "EnhancedProductDocumentation object or null"
    },
    {
      "name": "setupFileWatcher",
      "desc": "Configures file system watchers to detect changes to product documentation files",
      "inputs": "None",
      "outputs": "None (side effect: sets up file watchers)"
    },
    {
      "name": "openFile",
      "desc": "Opens a source code file in the editor when user clicks on a navigation item",
      "inputs": "ProductNavItem representing a file",
      "outputs": "Promise that resolves when file is opened"
    },
    {
      "name": "buildFeatureTree",
      "desc": "Constructs the hierarchical navigation tree from product documentation features",
      "inputs": "EnhancedProductDocumentation",
      "outputs": "Array of top-level ProductNavItem objects"
    }
  ],
  "dependencies": [
    "vscode",
    "fileDocumentation (EnhancedProductDocumentation, FileSummary, ModuleSummary)",
    "path",
    "fs",
    "domain/services/fileWatcherService"
  ],
  "intent": "This file exists to replace traditional file-based navigation with a product-centric approach that organizes code by what it does rather than where it lives. It solves the problem of developers and users struggling to understand a codebase's functionality when navigating through arbitrary file/folder structures. By presenting code through the lens of features and capabilities, it makes codebases more discoverable and understandable, especially for new team members or when working with unfamiliar code.",
  "rawContent": "```json\n{\n  \"purpose\": \"Provides a product-centric navigation view that organizes code by functionality instead of file structure, allowing users to browse the codebase by features and capabilities.\",\n  \"userVisibleActions\": [\n    \"View codebase organized by product features and functionality instead of file structure\",\n    \"Navigate to code files by clicking on feature categories and subcategories\",\n    \"See real-time updates to the product navigation tree when code documentation changes\",\n    \"Expand and collapse feature groups to explore different areas of the product\",\n    \"Click on file items to open and view source code files\",\n    \"See visual indicators (icons and labels) for different types of product features\",\n    \"Browse features grouped by user-facing categories, developer tools, and architectural components\"\n  ],\n  \"developerVisibleActions\": [\n    \"Registers a custom tree view provider that organizes code by product functionality\",\n    \"Monitors file system for changes to product documentation and updates the navigation tree automatically\",\n    \"Loads enhanced product documentation from .shadow/docs directory to build the navigation structure\",\n    \"Provides tree data through VSCode's TreeDataProvider interface for rendering in the sidebar\",\n    \"Handles file watchers for both aggregate documentation and incremental file updates\",\n    \"Manages workspace state and product documentation lifecycle\",\n    \"Triggers tree refresh when documentation files are created, changed, or deleted\",\n    \"Integrates with FileWatcherService for centralized file monitoring\"\n  ],\n  \"keyFunctions\": [\n    {\n      \"name\": \"getTreeItem\",\n      \"desc\": \"Returns the visual representation (label, icon, collapsible state) for a navigation item\",\n      \"inputs\": \"ProductNavItem element\",\n      \"outputs\": \"TreeItem with display properties\"\n    },\n    {\n      \"name\": \"getChildren\",\n      \"desc\": \"Returns child navigation items for a given parent, building the hierarchical product navigation structure\",\n      \"inputs\": \"Optional parent ProductNavItem\",\n      \"outputs\": \"Array of child ProductNavItem objects\"\n    },\n    {\n      \"name\": \"refresh\",\n      \"desc\": \"Reloads product documentation and updates the navigation tree view\",\n      \"inputs\": \"None\",\n      \"outputs\": \"Promise that resolves when refresh is complete\"\n    },\n    {\n      \"name\": \"loadProductDocumentation\",\n      \"desc\": \"Loads enhanced product documentation from the workspace's shadow directory\",\n      \"inputs\": \"None\",\n      \"outputs\": \"EnhancedProductDocumentation object or null\"\n    },\n    {\n      \"name\": \"setupFileWatcher\",\n      \"desc\": \"Configures file system watchers to detect changes to product documentation files\",\n      \"inputs\": \"None\",\n      \"outputs\": \"None (side effect: sets up file watchers)\"\n    },\n    {\n      \"name\": \"openFile\",\n      \"desc\": \"Opens a source code file in the editor when user clicks on a navigation item\",\n      \"inputs\": \"ProductNavItem representing a file\",\n      \"outputs\": \"Promise that resolves when file is opened\"\n    },\n    {\n      \"name\": \"buildFeatureTree\",\n      \"desc\": \"Constructs the hierarchical navigation tree from product documentation features\",\n      \"inputs\": \"EnhancedProductDocumentation\",\n      \"outputs\": \"Array of top-level ProductNavItem objects\"\n    }\n  ],\n  \"dependencies\": [\n    \"vscode\",\n    \"fileDocumentation (EnhancedProductDocumentation, FileSummary, ModuleSummary)\",\n    \"path\",\n    \"fs\",\n    \"domain/services/fileWatcherService\"\n  ],\n  \"intent\": \"This file exists to replace traditional file-based navigation with a product-centric approach that organizes code by what it does rather than where it lives. It solves the problem of developers and users struggling to understand a codebase's functionality when navigating through arbitrary file/folder structures. By presenting code through the lens of features and capabilities, it makes codebases more discoverable and understandable, especially for new team members or when working with unfamiliar code.\"\n}\n```",
  "_metadata": {
    "index": 0,
    "total": 0,
    "savedAt": "2025-11-19T21:22:24.720Z"
  }
}